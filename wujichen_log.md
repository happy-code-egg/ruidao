2025-11-26
着手修改关于客户模块，客户列表页面，模糊搜索的问题（待完成）
1.根据客户创建日期搜索客户，测试出来，后端没有问题，可能是前端传递的参数有问题（已完成）

2025-11-26
1.修改了core/config/cors.php文件，添加了CORS_SUPPORTS_CREDENTIALS配置项（已完成）已撤回
2.修改了core/.env文件，添加了CORS_SUPPORTS_CREDENTIALS配置项（已完成）已撤回

2025-11-26
1.发现用户搜索的时候，根本不能通过创建人搜索客户（已完成）
2.创建客户的时候，根本没有保存创建人（已完成）

2025-11-27
1.修改了客户模型，添加了created_by和updated_by字段（已完成）
2.修改了客户控制器，添加了创建客户和更新客户的方法（已完成）

2025-11-27
1.搜索页面关于省市区发现问题，初步判定是前端的问题（已完成）
2.创建人不确定能不能正常使用，用户搜索页面（已完成）
3.产业园区可以添加该字段，但是能不能模糊搜索还需测试（待完成）

2025-11-27
1.business_person是存放id的但是字段名很难看出来（已完成）
2.产业园区用户在创建客户的时候，疑似遇见了假数据（待完成）
3.business_person_id也是创建的时候就是空的，但是前端自己修改客户详情时可以添加这个字段值，但是数据库里面没有保存这个值，但是前端映射出来这个字段值了（已完成）
4.https://reference-yeast-prefers-date.trycloudflare.com/api/customer-related-persons/add-business-person，疑似能用不能用（待完成）
5.查看用户详情的时候，后端没有返回company_manager字段（已完成）
6.公司人数，查看客户详情的时候也没有正常返回（已完成）
7.公司负责人在创建客户的时候，公司负责人字段没有正常保存（已完成）
8.creditCode双重映射机制冲突（已完成）

2025-11-28
1.修改关于business_person(业务人员的显示和添加问题)（已完成）
2.business_person_id在创建客户的时候，没有正常保存（已完成）
3.business_person反而存放了id（已完成）
4.新增业务员的时候，新增的id是代替了原来的业务人员，而不是真正的新增（已完成）

2025-11-28
1.重构批量添加业务员接口：
   - 将原来的/api/customers/batch-add-business接口重命名为/api/customers/batch-replace-business（保持原有替换逻辑）
   - 新的/api/customers/batch-add-business接口实现真正的添加功能，使用customer_related_persons表
   - 支持选择人员类型（业务助理、业务协作人、商务负责人等）
   - 添加重复检查，避免重复添加相同的业务员
   - 返回详细的添加统计信息（添加数量、跳过数量）

2025-11-28
1.关于客户模块发现数据库问题(已经形成文档)（已完成）
