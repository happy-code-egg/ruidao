(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-98187756"],{"0deb":function(e,t,a){"use strict";a("31c6")},"31c6":function(e,t,a){},8095:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"payment-received-add-container"},[t("div",{staticClass:"add-header"},[t("h3",[e._v("新增到款单")]),t("div",{staticClass:"header-actions"},[t("el-button",{on:{click:e.handleBack}},[e._v("返回")]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleSave}},[e._v("保存")]),t("el-button",{attrs:{type:"success"},on:{click:e.handleSaveAndSubmit}},[e._v("保存并提交")])],1)]),t("div",{staticClass:"add-content"},[t("el-card",{staticClass:"add-card",attrs:{shadow:"never"}},[t("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("基本信息")])]),t("el-form",{ref:"formRef",attrs:{model:e.formData,rules:e.rules,"label-width":"100px"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"付款方名称",prop:"payerName"}},[t("el-input",{attrs:{placeholder:"请输入文本"},model:{value:e.formData.payerName,callback:function(t){e.$set(e.formData,"payerName",t)},expression:"formData.payerName"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"付款单号"}},[t("el-input",{attrs:{placeholder:"系统生成",readonly:""},model:{value:e.formData.paymentNo,callback:function(t){e.$set(e.formData,"paymentNo",t)},expression:"formData.paymentNo"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"付款开户银行"}},[t("el-input",{attrs:{placeholder:"请输入文本"},model:{value:e.formData.paymentBank,callback:function(t){e.$set(e.formData,"paymentBank",t)},expression:"formData.paymentBank"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"客户名称",prop:"clientName"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.formData.clientName,callback:function(t){e.$set(e.formData,"clientName",t)},expression:"formData.clientName"}},[t("el-option",{attrs:{label:"客户A",value:"clientA"}}),t("el-option",{attrs:{label:"客户B",value:"clientB"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"到款金额",prop:"paymentAmount"}},[t("el-input",{attrs:{placeholder:"请输入文本"},model:{value:e.formData.paymentAmount,callback:function(t){e.$set(e.formData,"paymentAmount",t)},expression:"formData.paymentAmount"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"币别"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.formData.currency,callback:function(t){e.$set(e.formData,"currency",t)},expression:"formData.currency"}},[t("el-option",{attrs:{label:"人民币",value:"CNY"}}),t("el-option",{attrs:{label:"美元",value:"USD"}})],1)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"收款公司账户",prop:"companyAccount"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.formData.companyAccount,callback:function(t){e.$set(e.formData,"companyAccount",t)},expression:"formData.companyAccount"}},[t("el-option",{attrs:{label:"账户A",value:"accountA"}}),t("el-option",{attrs:{label:"账户B",value:"accountB"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"到款日期",prop:"paymentDate"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"年/月/日"},model:{value:e.formData.paymentDate,callback:function(t){e.$set(e.formData,"paymentDate",t)},expression:"formData.paymentDate"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"客户付款方式",prop:"paymentMethod"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.formData.paymentMethod,callback:function(t){e.$set(e.formData,"paymentMethod",t)},expression:"formData.paymentMethod"}},[t("el-option",{attrs:{label:"银行转账",value:"bankTransfer"}}),t("el-option",{attrs:{label:"支付宝",value:"alipay"}}),t("el-option",{attrs:{label:"微信",value:"wechat"}})],1)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"服务费"}},[t("el-input",{attrs:{placeholder:"请输入文本"},model:{value:e.formData.serviceFee,callback:function(t){e.$set(e.formData,"serviceFee",t)},expression:"formData.serviceFee"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"管费"}},[t("el-input",{attrs:{placeholder:"请输入文本"},model:{value:e.formData.managementFee,callback:function(t){e.$set(e.formData,"managementFee",t)},expression:"formData.managementFee"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"预收分配费"}},[t("el-input",{attrs:{placeholder:"请输入文本"},model:{value:e.formData.preAllocationFee,callback:function(t){e.$set(e.formData,"preAllocationFee",t)},expression:"formData.preAllocationFee"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"可提现金额"}},[t("el-input",{attrs:{readonly:""},model:{value:e.formData.withdrawableAmount,callback:function(t){e.$set(e.formData,"withdrawableAmount",t)},expression:"formData.withdrawableAmount"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"请款金额"}},[t("el-input",{attrs:{readonly:""},model:{value:e.formData.requestAmount,callback:function(t){e.$set(e.formData,"requestAmount",t)},expression:"formData.requestAmount"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"开票金额"}},[t("el-input",{attrs:{readonly:""},model:{value:e.formData.invoiceAmount,callback:function(t){e.$set(e.formData,"invoiceAmount",t)},expression:"formData.invoiceAmount"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"可开票金额"}},[t("el-input",{attrs:{readonly:""},model:{value:e.formData.invoiceableAmount,callback:function(t){e.$set(e.formData,"invoiceableAmount",t)},expression:"formData.invoiceableAmount"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"是否为尾款"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.formData.isFinalPayment,callback:function(t){e.$set(e.formData,"isFinalPayment",t)},expression:"formData.isFinalPayment"}},[t("el-option",{attrs:{label:"是",value:"yes"}}),t("el-option",{attrs:{label:"否",value:"no"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"是否为尾款"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.formData.isFinalPayment2,callback:function(t){e.$set(e.formData,"isFinalPayment2",t)},expression:"formData.isFinalPayment2"}},[t("el-option",{attrs:{label:"是",value:"yes"}}),t("el-option",{attrs:{label:"否",value:"no"}})],1)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"管费备注"}},[t("el-input",{attrs:{placeholder:"请输入文本"},model:{value:e.formData.managementFeeRemark,callback:function(t){e.$set(e.formData,"managementFeeRemark",t)},expression:"formData.managementFeeRemark"}})],1)],1),t("el-col",{attrs:{span:16}},[t("el-form-item",{attrs:{label:"管费备注"}},[t("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"客户或者商务下拉一级"},model:{value:e.formData.managementFeeRemark2,callback:function(t){e.$set(e.formData,"managementFeeRemark2",t)},expression:"formData.managementFeeRemark2"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"请款单号"}},[t("el-input",{attrs:{readonly:""},model:{value:e.formData.requestNo,callback:function(t){e.$set(e.formData,"requestNo",t)},expression:"formData.requestNo"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"请款金额"}},[t("el-input",{attrs:{readonly:""},model:{value:e.formData.requestAmount2,callback:function(t){e.$set(e.formData,"requestAmount2",t)},expression:"formData.requestAmount2"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"开票金额"}},[t("el-input",{attrs:{readonly:""},model:{value:e.formData.invoiceAmount2,callback:function(t){e.$set(e.formData,"invoiceAmount2",t)},expression:"formData.invoiceAmount2"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"开票单号"}},[t("el-input",{attrs:{readonly:""},model:{value:e.formData.invoiceNo,callback:function(t){e.$set(e.formData,"invoiceNo",t)},expression:"formData.invoiceNo"}})],1)],1),t("el-col",{attrs:{span:16}},[t("el-form-item",{attrs:{label:"开票单号"}},[t("el-input",{staticStyle:{width:"100%"},attrs:{readonly:""},model:{value:e.formData.invoiceNo2,callback:function(t){e.$set(e.formData,"invoiceNo2",t)},expression:"formData.invoiceNo2"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"到款备用1"}},[t("el-input",{attrs:{placeholder:"请输入文本"},model:{value:e.formData.remark1,callback:function(t){e.$set(e.formData,"remark1",t)},expression:"formData.remark1"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"到款备用2"}},[t("el-input",{attrs:{placeholder:"请输入文本"},model:{value:e.formData.remark2,callback:function(t){e.$set(e.formData,"remark2",t)},expression:"formData.remark2"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"到款备用3"}},[t("el-input",{attrs:{placeholder:"请输入文本"},model:{value:e.formData.remark3,callback:function(t){e.$set(e.formData,"remark3",t)},expression:"formData.remark3"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:"到款备注"}},[t("el-input",{attrs:{type:"textarea",placeholder:"请输入文本",rows:3},model:{value:e.formData.paymentRemark,callback:function(t){e.$set(e.formData,"paymentRemark",t)},expression:"formData.paymentRemark"}})],1)],1)],1)],1)],1),t("el-card",{staticClass:"add-card",attrs:{shadow:"never"}},[t("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("业绩单")]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleAddPerformance}},[e._v("新增")])],1),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.performanceData,border:""}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),t("el-table-column",{attrs:{prop:"performanceNo",label:"业绩单号","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"allocationAmount",label:"分配金额","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"businessPerson",label:"业务人员","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"serviceProject",label:"服务项目","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"productCategory",label:"产品类别","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"appearance",label:"外观","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"invention",label:"发明","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"utility",label:"实用","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"taxFee",label:"税费","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"intermediaryFee",label:"居间费","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"convertedTotalServiceFee",label:"折算总服务费","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"conversionFactor",label:"折算系数","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"convertedServiceFee1",label:"折算服务费1","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"convertedServiceFee2",label:"折算服务费2","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"small",type:"text"},on:{click:function(t){return e.handleDeletePerformance(a.$index)}}},[e._v("删除")])]}}])})],1)],1),t("el-card",{staticClass:"add-card",attrs:{shadow:"never"}},[t("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("调账")]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleAddAdjustment}},[e._v("新增")])],1),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.adjustmentData,border:""}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),t("el-table-column",{attrs:{prop:"adjustmentType",label:"调账类型","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"adjustmentAmount",label:"调账金额","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"receiptNo",label:"收款单号","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"adjustmentRemark",label:"调账备注","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"updater",label:"更新用户","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"updateTime",label:"更新时间","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"adjustmentNo",label:"调账单号","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"small",type:"text"},on:{click:function(t){return e.handleDeleteAdjustment(a.$index)}}},[e._v("删除")])]}}])})],1)],1)],1),t("el-dialog",{attrs:{title:"新增业绩单",visible:e.performanceDialogVisible,width:"80%"},on:{"update:visible":function(t){e.performanceDialogVisible=t}}},[t("div",{staticClass:"dialog-section"},[t("h4",[e._v("基本信息（自动带出）")]),t("el-form",{attrs:{"label-width":"100px"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"客户名称"}},[t("el-input",{attrs:{readonly:""},model:{value:e.formData.clientName,callback:function(t){e.$set(e.formData,"clientName",t)},expression:"formData.clientName"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"付款单号"}},[t("el-input",{attrs:{readonly:""},model:{value:e.formData.paymentNo,callback:function(t){e.$set(e.formData,"paymentNo",t)},expression:"formData.paymentNo"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"收款公司账户"}},[t("el-input",{attrs:{readonly:""},model:{value:e.formData.companyAccount,callback:function(t){e.$set(e.formData,"companyAccount",t)},expression:"formData.companyAccount"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"到款金额"}},[t("el-input",{attrs:{readonly:""},model:{value:e.formData.paymentAmount,callback:function(t){e.$set(e.formData,"paymentAmount",t)},expression:"formData.paymentAmount"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"到款日期"}},[t("el-input",{attrs:{readonly:""},model:{value:e.formData.paymentDate,callback:function(t){e.$set(e.formData,"paymentDate",t)},expression:"formData.paymentDate"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"客户付款方式"}},[t("el-input",{attrs:{readonly:""},model:{value:e.formData.paymentMethod,callback:function(t){e.$set(e.formData,"paymentMethod",t)},expression:"formData.paymentMethod"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"服务项目"}},[t("el-input",{attrs:{readonly:""},model:{value:e.formData.serviceFee,callback:function(t){e.$set(e.formData,"serviceFee",t)},expression:"formData.serviceFee"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"是否为尾款"}},[t("el-input",{attrs:{readonly:""},model:{value:e.formData.isFinalPayment,callback:function(t){e.$set(e.formData,"isFinalPayment",t)},expression:"formData.isFinalPayment"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"币别"}},[t("el-input",{attrs:{readonly:""},model:{value:e.formData.currency,callback:function(t){e.$set(e.formData,"currency",t)},expression:"formData.currency"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"可分单金额"}},[t("el-input",{attrs:{placeholder:"请输入文本"},model:{value:e.performanceForm.availableAmount,callback:function(t){e.$set(e.performanceForm,"availableAmount",t)},expression:"performanceForm.availableAmount"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"管费"}},[t("el-input",{attrs:{placeholder:"请输入文本"},model:{value:e.performanceForm.managementFee,callback:function(t){e.$set(e.performanceForm,"managementFee",t)},expression:"performanceForm.managementFee"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"预收办登费"}},[t("el-input",{attrs:{placeholder:"请输入文本"},model:{value:e.performanceForm.preRegistrationFee,callback:function(t){e.$set(e.performanceForm,"preRegistrationFee",t)},expression:"performanceForm.preRegistrationFee"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:"到款备注"}},[t("el-input",{attrs:{readonly:""},model:{value:e.formData.paymentRemark,callback:function(t){e.$set(e.formData,"paymentRemark",t)},expression:"formData.paymentRemark"}})],1)],1)],1)],1)],1),t("el-divider"),t("div",{staticClass:"dialog-section"},[t("h4",[e._v("业绩单信息")]),t("el-form",{attrs:{model:e.performanceForm,"label-width":"100px"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"分配金额"}},[t("el-input",{attrs:{placeholder:"请输入文本"},model:{value:e.performanceForm.allocationAmount,callback:function(t){e.$set(e.performanceForm,"allocationAmount",t)},expression:"performanceForm.allocationAmount"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"业务人员"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"后台树形选人"},model:{value:e.performanceForm.businessPerson,callback:function(t){e.$set(e.performanceForm,"businessPerson",t)},expression:"performanceForm.businessPerson"}},[t("el-option",{attrs:{label:"王五",value:"王五"}}),t("el-option",{attrs:{label:"李四",value:"李四"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"业绩单号"}},[t("el-input",{attrs:{placeholder:"系统生成",readonly:""},model:{value:e.performanceForm.performanceNo,callback:function(t){e.$set(e.performanceForm,"performanceNo",t)},expression:"performanceForm.performanceNo"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"服务项目"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"配置选择"},model:{value:e.performanceForm.serviceProject,callback:function(t){e.$set(e.performanceForm,"serviceProject",t)},expression:"performanceForm.serviceProject"}},[t("el-option",{attrs:{label:"专利申请",value:"专利申请"}}),t("el-option",{attrs:{label:"商标注册",value:"商标注册"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"产品类别"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"配置选择"},model:{value:e.performanceForm.productCategory,callback:function(t){e.$set(e.performanceForm,"productCategory",t)},expression:"performanceForm.productCategory"}},[t("el-option",{attrs:{label:"发明专利",value:"发明专利"}}),t("el-option",{attrs:{label:"实用新型",value:"实用新型"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"业绩备用1"}},[t("el-input",{attrs:{placeholder:"请输入文本"},model:{value:e.performanceForm.performanceRemark1,callback:function(t){e.$set(e.performanceForm,"performanceRemark1",t)},expression:"performanceForm.performanceRemark1"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"外观"}},[t("el-input",{attrs:{placeholder:"请输入文本"},model:{value:e.performanceForm.appearance,callback:function(t){e.$set(e.performanceForm,"appearance",t)},expression:"performanceForm.appearance"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"发明"}},[t("el-input",{attrs:{placeholder:"请输入文本"},model:{value:e.performanceForm.invention,callback:function(t){e.$set(e.performanceForm,"invention",t)},expression:"performanceForm.invention"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"实用"}},[t("el-input",{attrs:{placeholder:"请输入文本"},model:{value:e.performanceForm.utility,callback:function(t){e.$set(e.performanceForm,"utility",t)},expression:"performanceForm.utility"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"税费"}},[t("el-input",{attrs:{placeholder:"请输入文本"},model:{value:e.performanceForm.taxFee,callback:function(t){e.$set(e.performanceForm,"taxFee",t)},expression:"performanceForm.taxFee"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"居间费"}},[t("el-input",{attrs:{placeholder:"请输入文本"},model:{value:e.performanceForm.intermediaryFee,callback:function(t){e.$set(e.performanceForm,"intermediaryFee",t)},expression:"performanceForm.intermediaryFee"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"折算总服务费"}},[t("el-input",{attrs:{placeholder:"自动算出来",readonly:""},model:{value:e.performanceForm.convertedTotalServiceFee,callback:function(t){e.$set(e.performanceForm,"convertedTotalServiceFee",t)},expression:"performanceForm.convertedTotalServiceFee"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"折算系数"}},[t("el-input",{attrs:{placeholder:"请输入文本"},model:{value:e.performanceForm.conversionFactor,callback:function(t){e.$set(e.performanceForm,"conversionFactor",t)},expression:"performanceForm.conversionFactor"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"折算服务费1"}},[t("el-input",{attrs:{placeholder:"请输入文本"},model:{value:e.performanceForm.convertedServiceFee1,callback:function(t){e.$set(e.performanceForm,"convertedServiceFee1",t)},expression:"performanceForm.convertedServiceFee1"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"折算服务费2"}},[t("el-input",{attrs:{placeholder:"请输入文本"},model:{value:e.performanceForm.convertedServiceFee2,callback:function(t){e.$set(e.performanceForm,"convertedServiceFee2",t)},expression:"performanceForm.convertedServiceFee2"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"业绩备用2"}},[t("el-input",{attrs:{placeholder:"请输入文本"},model:{value:e.performanceForm.performanceRemark2,callback:function(t){e.$set(e.performanceForm,"performanceRemark2",t)},expression:"performanceForm.performanceRemark2"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"更新用户"}},[t("el-input",{attrs:{placeholder:"请输入文本"},model:{value:e.performanceForm.updater,callback:function(t){e.$set(e.performanceForm,"updater",t)},expression:"performanceForm.updater"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"更新时间"}},[t("el-input",{attrs:{placeholder:"请输入文本"},model:{value:e.performanceForm.updateTime,callback:function(t){e.$set(e.performanceForm,"updateTime",t)},expression:"performanceForm.updateTime"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:"业绩单备注"}},[t("el-input",{attrs:{type:"textarea",placeholder:"请输入文本",rows:3},model:{value:e.performanceForm.performanceRemark,callback:function(t){e.$set(e.performanceForm,"performanceRemark",t)},expression:"performanceForm.performanceRemark"}})],1)],1)],1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.performanceDialogVisible=!1}}},[e._v("取消")]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleConfirmAddPerformance}},[e._v("确定")])],1)],1),t("el-dialog",{attrs:{title:"新增调账",visible:e.adjustmentDialogVisible,width:"80%"},on:{"update:visible":function(t){e.adjustmentDialogVisible=t}}},[t("div",{staticClass:"dialog-section"},[t("h4",[e._v("基本信息（自动带出）")]),t("el-form",{attrs:{"label-width":"100px"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"客户名称"}},[t("el-input",{attrs:{readonly:""},model:{value:e.formData.clientName,callback:function(t){e.$set(e.formData,"clientName",t)},expression:"formData.clientName"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"付款单号"}},[t("el-input",{attrs:{readonly:""},model:{value:e.formData.paymentNo,callback:function(t){e.$set(e.formData,"paymentNo",t)},expression:"formData.paymentNo"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"收款公司账户"}},[t("el-input",{attrs:{readonly:""},model:{value:e.formData.companyAccount,callback:function(t){e.$set(e.formData,"companyAccount",t)},expression:"formData.companyAccount"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"到款金额"}},[t("el-input",{attrs:{readonly:""},model:{value:e.formData.paymentAmount,callback:function(t){e.$set(e.formData,"paymentAmount",t)},expression:"formData.paymentAmount"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"到款日期"}},[t("el-input",{attrs:{readonly:""},model:{value:e.formData.paymentDate,callback:function(t){e.$set(e.formData,"paymentDate",t)},expression:"formData.paymentDate"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"服务项目"}},[t("el-input",{attrs:{readonly:""},model:{value:e.formData.serviceFee,callback:function(t){e.$set(e.formData,"serviceFee",t)},expression:"formData.serviceFee"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"是否为尾款"}},[t("el-input",{attrs:{readonly:""},model:{value:e.formData.isFinalPayment,callback:function(t){e.$set(e.formData,"isFinalPayment",t)},expression:"formData.isFinalPayment"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"币别"}},[t("el-input",{attrs:{readonly:""},model:{value:e.formData.currency,callback:function(t){e.$set(e.formData,"currency",t)},expression:"formData.currency"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"可提现金额"}},[t("el-input",{attrs:{placeholder:"请输入文本"},model:{value:e.adjustmentForm.withdrawableAmount,callback:function(t){e.$set(e.adjustmentForm,"withdrawableAmount",t)},expression:"adjustmentForm.withdrawableAmount"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"可开票金额"}},[t("el-input",{attrs:{placeholder:"请输入文本"},model:{value:e.adjustmentForm.invoiceableAmount,callback:function(t){e.$set(e.adjustmentForm,"invoiceableAmount",t)},expression:"adjustmentForm.invoiceableAmount"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"到款备注"}},[t("el-input",{attrs:{readonly:""},model:{value:e.formData.paymentRemark,callback:function(t){e.$set(e.formData,"paymentRemark",t)},expression:"formData.paymentRemark"}})],1)],1)],1)],1)],1),t("el-divider"),t("div",{staticClass:"dialog-section"},[t("h4",[e._v("调账信息")]),t("el-form",{attrs:{model:e.adjustmentForm,"label-width":"100px"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"调账类型"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.adjustmentForm.adjustmentType,callback:function(t){e.$set(e.adjustmentForm,"adjustmentType",t)},expression:"adjustmentForm.adjustmentType"}},[t("el-option",{attrs:{label:"退款调整",value:"退款调整"}}),t("el-option",{attrs:{label:"费用调整",value:"费用调整"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"调账金额"}},[t("el-input",{attrs:{placeholder:"请输入文本"},model:{value:e.adjustmentForm.adjustmentAmount,callback:function(t){e.$set(e.adjustmentForm,"adjustmentAmount",t)},expression:"adjustmentForm.adjustmentAmount"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"收款单号"}},[t("el-input",{attrs:{placeholder:"选出来的，选一个收款单"},model:{value:e.adjustmentForm.receiptNo,callback:function(t){e.$set(e.adjustmentForm,"receiptNo",t)},expression:"adjustmentForm.receiptNo"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"更新用户"}},[t("el-input",{attrs:{placeholder:"系统记录",readonly:""},model:{value:e.adjustmentForm.updater,callback:function(t){e.$set(e.adjustmentForm,"updater",t)},expression:"adjustmentForm.updater"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"更新时间"}},[t("el-input",{attrs:{placeholder:"系统记录",readonly:""},model:{value:e.adjustmentForm.updateTime,callback:function(t){e.$set(e.adjustmentForm,"updateTime",t)},expression:"adjustmentForm.updateTime"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"调账单号"}},[t("el-input",{attrs:{placeholder:"系统生成",readonly:""},model:{value:e.adjustmentForm.adjustmentNo,callback:function(t){e.$set(e.adjustmentForm,"adjustmentNo",t)},expression:"adjustmentForm.adjustmentNo"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:"调账备注"}},[t("el-input",{attrs:{type:"textarea",placeholder:"请输入文本",rows:3},model:{value:e.adjustmentForm.adjustmentRemark,callback:function(t){e.$set(e.adjustmentForm,"adjustmentRemark",t)},expression:"adjustmentForm.adjustmentRemark"}})],1)],1)],1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.adjustmentDialogVisible=!1}}},[e._v("取消")]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleConfirmAddAdjustment}},[e._v("确定")])],1)],1)],1)},l=[],o=(a("14d9"),{name:"PaymentReceivedAdd",data(){return{formData:{payerName:"",paymentNo:"",paymentBank:"",clientName:"",paymentAmount:"",currency:"",companyAccount:"",paymentDate:"",paymentMethod:"",serviceFee:"",managementFee:"",preAllocationFee:"",withdrawableAmount:"",requestAmount:"",invoiceAmount:"",invoiceableAmount:"",isFinalPayment:"",isFinalPayment2:"",managementFeeRemark:"",managementFeeRemark2:"",requestNo:"",requestAmount2:"",invoiceAmount2:"",invoiceNo:"",invoiceNo2:"",remark1:"",remark2:"",remark3:"",paymentRemark:""},rules:{payerName:[{required:!0,message:"请输入付款方名称",trigger:"blur"}],clientName:[{required:!0,message:"请选择客户名称",trigger:"change"}],companyAccount:[{required:!0,message:"请选择收款公司账户",trigger:"change"}],paymentAmount:[{required:!0,message:"请输入到款金额",trigger:"blur"}],paymentDate:[{required:!0,message:"请选择到款日期",trigger:"change"}],paymentMethod:[{required:!0,message:"请选择客户付款方式",trigger:"change"}]},performanceData:[],adjustmentData:[],performanceDialogVisible:!1,adjustmentDialogVisible:!1,performanceForm:{availableAmount:"",managementFee:"",preRegistrationFee:"",allocationAmount:"",businessPerson:"",performanceNo:"",serviceProject:"",productCategory:"",performanceRemark1:"",appearance:"",invention:"",utility:"",taxFee:"",intermediaryFee:"",convertedTotalServiceFee:"",conversionFactor:"",convertedServiceFee1:"",convertedServiceFee2:"",performanceRemark2:"",updater:"当前用户",updateTime:"",performanceRemark:""},adjustmentForm:{adjustmentType:"",adjustmentAmount:"",receiptNo:"",adjustmentRemark:"",adjustmentNo:"",updater:"当前用户",updateTime:"",withdrawableAmount:"",invoiceableAmount:""}}},methods:{handleBack(){this.$router.go(-1)},handleSave(){this.$refs.formRef.validate(e=>{e?(this.$message.success("保存成功"),this.$router.go(-1)):this.$message.error("请填写必填项")})},handleSaveAndSubmit(){this.$refs.formRef.validate(e=>{e?(this.$message.success("保存并提交成功"),this.$router.go(-1)):this.$message.error("请填写必填项")})},handleAddPerformance(){this.performanceForm={availableAmount:"",managementFee:"",preRegistrationFee:"",allocationAmount:"",businessPerson:"",performanceNo:"",serviceProject:"",productCategory:"",performanceRemark1:"",appearance:"",invention:"",utility:"",taxFee:"",intermediaryFee:"",convertedTotalServiceFee:"",conversionFactor:"",convertedServiceFee1:"",convertedServiceFee2:"",performanceRemark2:"",updater:"当前用户",updateTime:"",performanceRemark:""},this.performanceDialogVisible=!0},handleConfirmAddPerformance(){this.performanceForm.allocationAmount&&this.performanceForm.businessPerson?(this.performanceForm.performanceNo="P"+Date.now(),this.performanceForm.updateTime=(new Date).toLocaleString(),this.performanceData.push({...this.performanceForm}),this.performanceDialogVisible=!1,this.$message.success("新增业绩单成功")):this.$message.error("请填写分配金额和业务人员")},handleDeletePerformance(e){this.performanceData.splice(e,1),this.$message.success("删除成功")},handleAddAdjustment(){this.adjustmentForm={adjustmentType:"",adjustmentAmount:"",receiptNo:"",adjustmentRemark:"",adjustmentNo:"",updater:"当前用户",updateTime:"",withdrawableAmount:"",invoiceableAmount:""},this.adjustmentDialogVisible=!0},handleConfirmAddAdjustment(){this.adjustmentForm.adjustmentType&&this.adjustmentForm.adjustmentAmount?(this.adjustmentForm.adjustmentNo="ADJ"+Date.now(),this.adjustmentForm.updateTime=(new Date).toLocaleString(),this.adjustmentData.push({...this.adjustmentForm}),this.adjustmentDialogVisible=!1,this.$message.success("新增调账成功")):this.$message.error("请填写调账类型和调账金额")},handleDeleteAdjustment(e){this.adjustmentData.splice(e,1),this.$message.success("删除成功")}}}),n=o,s=(a("0deb"),a("2877")),m=Object(s["a"])(n,r,l,!1,null,"978c67c6",null);t["default"]=m.exports}}]);