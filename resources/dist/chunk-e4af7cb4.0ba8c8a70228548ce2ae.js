(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e4af7cb4"],{5334:function(e,t,a){"use strict";a("f8cb")},c6ac:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-container"},[t("div",{staticClass:"filter-container"},[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.queryParams}},[t("el-form-item",{attrs:{label:"项目名称"}},[t("el-input",{attrs:{placeholder:"请输入项目名称",clearable:""},model:{value:e.queryParams.caseName,callback:function(t){e.$set(e.queryParams,"caseName",t)},expression:"queryParams.caseName"}})],1),t("el-form-item",{attrs:{label:"客户名称"}},[t("el-input",{attrs:{placeholder:"请输入客户名称",clearable:""},model:{value:e.queryParams.customerName,callback:function(t){e.$set(e.queryParams,"customerName",t)},expression:"queryParams.customerName"}})],1),t("el-form-item",{attrs:{label:"创建人"}},[t("el-select",{attrs:{placeholder:"请选择创建人",clearable:""},model:{value:e.queryParams.creator,callback:function(t){e.$set(e.queryParams,"creator",t)},expression:"queryParams.creator"}},[t("el-option",{attrs:{label:"全部",value:""}}),t("el-option",{attrs:{label:"张三",value:"张三"}}),t("el-option",{attrs:{label:"李四",value:"李四"}}),t("el-option",{attrs:{label:"王五",value:"王五"}})],1)],1),t("el-form-item",{attrs:{label:"创建时间"}},[t("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.queryParams.createTimeRange,callback:function(t){e.$set(e.queryParams,"createTimeRange",t)},expression:"queryParams.createTimeRange"}})],1)],1),t("div",{staticClass:"filter-buttons"},[t("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("查询")]),t("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:e.handleReset}},[e._v("重置")])],1)],1),t("div",{staticClass:"action-buttons"},[t("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("新增草稿")]),t("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-edit"},on:{click:e.handleEdit}},[e._v("编辑草稿")]),t("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-delete"},on:{click:e.handleDelete}},[e._v("删除草稿")]),t("el-button",{attrs:{type:"success",icon:"el-icon-check"},on:{click:e.handleSubmit}},[e._v("提交审核")]),t("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-refresh"},on:{click:e.handleRefresh}},[e._v("刷新")])],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"80",align:"center"}}),t("el-table-column",{attrs:{prop:"index",label:"序号",width:"70",align:"center"}}),t("el-table-column",{attrs:{prop:"caseName",label:"项目名称","min-width":"180",align:"center"}}),t("el-table-column",{attrs:{prop:"caseType",label:"项目类型",width:"100",align:"center"}}),t("el-table-column",{attrs:{prop:"customerName",label:"客户名称",align:"center"}}),t("el-table-column",{attrs:{prop:"contentType",label:"通文类型",width:"120",align:"center"}}),t("el-table-column",{attrs:{prop:"creator",label:"创建人",width:"100",align:"center"}}),t("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"120",align:"center"}}),t("el-table-column",{attrs:{prop:"updateTime",label:"最后修改时间",width:"120",align:"center"}}),t("el-table-column",{attrs:{prop:"attachments",label:"附件数",width:"80",align:"center"}}),t("el-table-column",{attrs:{label:"操作",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.handleEditItem(a.row)}}},[e._v("编辑")]),t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.handleViewItem(a.row)}}},[e._v("查看")]),t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.handleSubmitItem(a.row)}}},[e._v("提交")]),t("el-button",{staticStyle:{color:"#f56c6c"},attrs:{size:"mini",type:"text"},on:{click:function(t){return e.handleDeleteItem(a.row)}}},[e._v("删除")])]}}])})],1),t("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{"current-page":e.listQuery.page,"page-sizes":[10,20,30,50],"page-size":e.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total,background:""},on:{"update:currentPage":function(t){return e.$set(e.listQuery,"page",t)},"update:current-page":function(t){return e.$set(e.listQuery,"page",t)},"update:pageSize":function(t){return e.$set(e.listQuery,"limit",t)},"update:page-size":function(t){return e.$set(e.listQuery,"limit",t)},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),t("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"650px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-form",{ref:"draftForm",attrs:{model:e.draftForm,rules:e.draftRules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"项目名称",prop:"caseName"}},[t("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.draftForm.caseName,callback:function(t){e.$set(e.draftForm,"caseName",t)},expression:"draftForm.caseName"}})],1),t("el-form-item",{attrs:{label:"项目类型",prop:"caseType"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择项目类型"},model:{value:e.draftForm.caseType,callback:function(t){e.$set(e.draftForm,"caseType",t)},expression:"draftForm.caseType"}},[t("el-option",{attrs:{label:"专利",value:"专利"}}),t("el-option",{attrs:{label:"商标",value:"商标"}}),t("el-option",{attrs:{label:"版权",value:"版权"}})],1)],1),t("el-form-item",{attrs:{label:"客户名称",prop:"customerName"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择客户"},model:{value:e.draftForm.customerName,callback:function(t){e.$set(e.draftForm,"customerName",t)},expression:"draftForm.customerName"}},e._l(e.customerOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"通文类型",prop:"contentType"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择通文类型"},model:{value:e.draftForm.contentType,callback:function(t){e.$set(e.draftForm,"contentType",t)},expression:"draftForm.contentType"}},[t("el-option",{attrs:{label:"专利申请",value:"专利申请"}}),t("el-option",{attrs:{label:"发明专利",value:"发明专利"}}),t("el-option",{attrs:{label:"实用新型",value:"实用新型"}}),t("el-option",{attrs:{label:"外观设计",value:"外观设计"}})],1)],1),t("el-form-item",{attrs:{label:"通文内容",prop:"content"}},[t("el-input",{attrs:{type:"textarea",rows:6,placeholder:"请输入通文内容"},model:{value:e.draftForm.content,callback:function(t){e.$set(e.draftForm,"content",t)},expression:"draftForm.content"}})],1),t("el-form-item",{attrs:{label:"备注",prop:"remark"}},[t("el-input",{attrs:{placeholder:"请输入备注信息"},model:{value:e.draftForm.remark,callback:function(t){e.$set(e.draftForm,"remark",t)},expression:"draftForm.remark"}})],1),t("el-form-item",{attrs:{label:"附件"}},[t("el-upload",{attrs:{action:"#","auto-upload":!1,"file-list":e.fileList,"on-change":e.handleFileChange,"on-remove":e.handleFileRemove,multiple:""}},[t("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传doc/docx/pdf/jpg/png文件，且不超过10MB")])],1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)],1)},r=[],s=(a("e9f5"),a("ab43"),{name:"DraftCase",data(){return{queryParams:{caseName:"",customerName:"",creator:"",createTimeRange:[]},listLoading:!1,tableData:[],total:0,listQuery:{page:1,limit:10},selectedRows:[],dialogVisible:!1,dialogTitle:"新增草稿",draftForm:{id:"",caseName:"",caseType:"",customerName:"",contentType:"",content:"",remark:""},draftRules:{caseName:[{required:!0,message:"请输入项目名称",trigger:"blur"}],caseType:[{required:!0,message:"请选择项目类型",trigger:"change"}],customerName:[{required:!0,message:"请选择客户",trigger:"change"}],contentType:[{required:!0,message:"请选择通文类型",trigger:"change"}],content:[{required:!0,message:"请输入通文内容",trigger:"blur"}]},fileList:[],customerOptions:Array.from({length:20}).map((e,t)=>({value:"客户"+(t+1),label:"客户"+(t+1)}))}},created(){this.getList()},methods:{getList(){this.listLoading=!0,setTimeout(()=>{this.tableData=Array.from({length:10}).map((e,t)=>({id:"draft-"+(t+1),index:t+1,caseName:"草稿项目"+(t+1),caseType:["专利","商标","版权"][Math.floor(3*Math.random())],customerName:"客户"+(t%10+1),contentType:["专利申请","发明专利","实用新型","外观设计"][Math.floor(4*Math.random())],creator:["张三","李四","王五"][Math.floor(3*Math.random())],createTime:`${(new Date).getFullYear()}-${String((new Date).getMonth()+1).padStart(2,"0")}-${String((new Date).getDate()-Math.floor(30*Math.random())).padStart(2,"0")}`,updateTime:`${(new Date).getFullYear()}-${String((new Date).getMonth()+1).padStart(2,"0")}-${String((new Date).getDate()-Math.floor(10*Math.random())).padStart(2,"0")}`,attachments:Math.floor(5*Math.random()),content:`项目${t+1}的通文内容，包含详细的描述、要点和附件说明...`,remark:"草稿备注信息"+(t+1)})),this.total=100,this.listLoading=!1},500)},handleSelectionChange(e){this.selectedRows=e},handleSearch(){this.listQuery.page=1,this.getList()},handleReset(){this.queryParams={caseName:"",customerName:"",creator:"",createTimeRange:[]},this.listQuery.page=1,this.getList()},handleAdd(){this.dialogTitle="新增草稿",this.draftForm={id:"",caseName:"",caseType:"",customerName:"",contentType:"",content:"",remark:""},this.fileList=[],this.dialogVisible=!0},handleEdit(){if(1!==this.selectedRows.length)return void this.$message.warning("请选择一个草稿进行编辑");const e=this.selectedRows[0];this.dialogTitle="编辑草稿",this.draftForm={id:e.id,caseName:e.caseName,caseType:e.caseType,customerName:e.customerName,contentType:e.contentType,content:e.content,remark:e.remark},this.fileList=Array.from({length:e.attachments}).map((e,t)=>({name:`附件${t+1}.docx`,url:"#"})),this.dialogVisible=!0},handleDelete(){0!==this.selectedRows.length?this.$confirm(`确认删除选中的 ${this.selectedRows.length} 个草稿吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$message.success("删除成功"),this.getList()}).catch(()=>{}):this.$message.warning("请至少选择一个草稿进行删除")},handleSubmit(){0!==this.selectedRows.length?this.$confirm(`确认提交选中的 ${this.selectedRows.length} 个草稿进行审核吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$message.success("提交成功"),this.getList()}).catch(()=>{}):this.$message.warning("请至少选择一个草稿进行提交")},handleRefresh(){this.getList()},handleEditItem(e){this.dialogTitle="编辑草稿",this.draftForm={id:e.id,caseName:e.caseName,caseType:e.caseType,customerName:e.customerName,contentType:e.contentType,content:e.content,remark:e.remark},this.fileList=Array.from({length:e.attachments}).map((e,t)=>({name:`附件${t+1}.docx`,url:"#"})),this.dialogVisible=!0},handleViewItem(e){this.$message.success("查看草稿详情："+e.caseName)},handleSubmitItem(e){this.$confirm(`确认提交"${e.caseName}"进行审核吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$message.success("提交成功："+e.caseName),this.getList()}).catch(()=>{})},handleDeleteItem(e){this.$confirm(`确认删除"${e.caseName}"吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$message.success("删除成功："+e.caseName),this.getList()}).catch(()=>{})},submitForm(){this.$refs.draftForm.validate(e=>{if(!e)return!1;this.$message.success(this.draftForm.id?"编辑成功":"添加成功"),this.dialogVisible=!1,this.getList()})},handleFileChange(e,t){this.fileList=t},handleFileRemove(e,t){this.fileList=t},handleSizeChange(e){this.listQuery.limit=e,this.getList()},handleCurrentChange(e){this.listQuery.page=e,this.getList()}}}),i=s,n=(a("5334"),a("2877")),o=Object(n["a"])(i,l,r,!1,null,null,null);t["default"]=o.exports},f8cb:function(e,t,a){}}]);