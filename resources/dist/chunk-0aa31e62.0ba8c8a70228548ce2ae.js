(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0aa31e62"],{2093:function(t,e,o){"use strict";o.r(e);var l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"opportunity-followup-container"},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("商机跟进")]),e("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:t.goBack}},[t._v("返回")])],1),e("el-form",{ref:"followUpForm",attrs:{model:t.form,rules:t.rules,"label-width":"100px"}},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"跟进方式",prop:"followUpMethod"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择跟进方式"},model:{value:t.form.followUpMethod,callback:function(e){t.$set(t.form,"followUpMethod",e)},expression:"form.followUpMethod"}},[e("el-option",{attrs:{label:"电话",value:"电话"}}),e("el-option",{attrs:{label:"邮件",value:"邮件"}}),e("el-option",{attrs:{label:"微信",value:"微信"}}),e("el-option",{attrs:{label:"QQ",value:"QQ"}}),e("el-option",{attrs:{label:"拜访",value:"拜访"}}),e("el-option",{attrs:{label:"其他",value:"其他"}})],1)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"跟进类型",prop:"followUpType"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择跟进类型"},model:{value:t.form.followUpType,callback:function(e){t.$set(t.form,"followUpType",e)},expression:"form.followUpType"}},[e("el-option",{attrs:{label:"初次沟通",value:"初次沟通"}}),e("el-option",{attrs:{label:"需求确认",value:"需求确认"}}),e("el-option",{attrs:{label:"方案制定",value:"方案制定"}}),e("el-option",{attrs:{label:"商务谈判",value:"商务谈判"}}),e("el-option",{attrs:{label:"合同签署",value:"合同签署"}}),e("el-option",{attrs:{label:"售后服务",value:"售后服务"}})],1)],1)],1)],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"跟进进度",prop:"followUpProgress"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择跟进进度"},model:{value:t.form.followUpProgress,callback:function(e){t.$set(t.form,"followUpProgress",e)},expression:"form.followUpProgress"}},[e("el-option",{attrs:{label:"初期沟通",value:"初期沟通"}}),e("el-option",{attrs:{label:"需求确认",value:"需求确认"}}),e("el-option",{attrs:{label:"方案制定",value:"方案制定"}}),e("el-option",{attrs:{label:"商务谈判",value:"商务谈判"}}),e("el-option",{attrs:{label:"合同签署",value:"合同签署"}}),e("el-option",{attrs:{label:"已成交",value:"已成交"}}),e("el-option",{attrs:{label:"已失败",value:"已失败"}})],1)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"跟进联系人",prop:"followUpContact"}},[e("el-input",{attrs:{placeholder:"请输入跟进联系人"},model:{value:t.form.followUpContact,callback:function(e){t.$set(t.form,"followUpContact",e)},expression:"form.followUpContact"}})],1)],1)],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"联系人电话",prop:"contactPhone"}},[e("el-input",{attrs:{placeholder:"请输入联系人电话"},model:{value:t.form.contactPhone,callback:function(e){t.$set(t.form,"contactPhone",e)},expression:"form.contactPhone"}})],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"跟进满意度",prop:"followUpSatisfaction"}},[e("el-rate",{attrs:{colors:["#99A9BF","#F7BA2A","#FF9900"]},model:{value:t.form.followUpSatisfaction,callback:function(e){t.$set(t.form,"followUpSatisfaction",e)},expression:"form.followUpSatisfaction"}})],1)],1)],1),e("el-form-item",{attrs:{label:"跟进内容",prop:"followUpContent"}},[e("el-input",{attrs:{type:"textarea",placeholder:"请输入跟进内容",rows:4},model:{value:t.form.followUpContent,callback:function(e){t.$set(t.form,"followUpContent",e)},expression:"form.followUpContent"}})],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"下次跟进时间",prop:"nextFollowUpTime"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"选择下次跟进时间"},model:{value:t.form.nextFollowUpTime,callback:function(e){t.$set(t.form,"nextFollowUpTime",e)},expression:"form.nextFollowUpTime"}})],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"二次跟进方式",prop:"secondaryFollowUpMethod"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择二次跟进方式"},model:{value:t.form.secondaryFollowUpMethod,callback:function(e){t.$set(t.form,"secondaryFollowUpMethod",e)},expression:"form.secondaryFollowUpMethod"}},[e("el-option",{attrs:{label:"电话",value:"电话"}}),e("el-option",{attrs:{label:"邮件",value:"邮件"}}),e("el-option",{attrs:{label:"微信",value:"微信"}}),e("el-option",{attrs:{label:"QQ",value:"QQ"}}),e("el-option",{attrs:{label:"拜访",value:"拜访"}}),e("el-option",{attrs:{label:"其他",value:"其他"}})],1)],1)],1)],1),e("el-form-item",{attrs:{label:"下次跟进内容",prop:"nextFollowUpContent"}},[e("el-input",{attrs:{type:"textarea",placeholder:"请输入下次跟进内容",rows:4},model:{value:t.form.nextFollowUpContent,callback:function(e){t.$set(t.form,"nextFollowUpContent",e)},expression:"form.nextFollowUpContent"}})],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"预计代理额",prop:"estimatedAgencyAmount"}},[e("el-input",{attrs:{placeholder:"请输入预计代理额"},model:{value:t.form.estimatedAgencyAmount,callback:function(e){t.$set(t.form,"estimatedAgencyAmount",e)},expression:"form.estimatedAgencyAmount"}},[e("template",{slot:"append"},[t._v("元")])],2)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"预计签约时间",prop:"estimatedSigningTime"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择预计签约时间"},model:{value:t.form.estimatedSigningTime,callback:function(e){t.$set(t.form,"estimatedSigningTime",e)},expression:"form.estimatedSigningTime"}})],1)],1)],1),e("el-form-item",{attrs:{label:"附件上传"}},[e("el-upload",{staticClass:"upload-demo",attrs:{action:"#","http-request":t.uploadFile,limit:5,"file-list":t.fileList}},[e("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("可上传任意类型文件，且不超过10MB")])],1)],1),e("el-form-item",[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.submitForm}},[t._v("提交")]),e("el-button",{on:{click:t.resetForm}},[t._v("重置")])],1)],1)],1)],1)},a=[],r=(o("14d9"),o("88a7"),o("271a"),o("5494"),{name:"OpportunityFollowUp",data(){return{opportunityId:null,opportunityInfo:{},form:{followUpMethod:"",followUpType:"",followUpProgress:"",followUpContact:"",contactPhone:"",followUpContent:"",nextFollowUpTime:"",secondaryFollowUpMethod:"",nextFollowUpContent:"",estimatedAgencyAmount:"",estimatedSigningTime:"",followUpSatisfaction:3},rules:{followUpMethod:[{required:!0,message:"请选择跟进方式",trigger:"change"}],followUpType:[{required:!0,message:"请选择跟进类型",trigger:"change"}],followUpProgress:[{required:!0,message:"请选择跟进进度",trigger:"change"}],followUpContent:[{required:!0,message:"请输入跟进内容",trigger:"blur"}],nextFollowUpTime:[{required:!0,message:"请选择下次跟进时间",trigger:"change"}],nextFollowUpContent:[{required:!0,message:"请输入下次跟进内容",trigger:"blur"}]},fileList:[]}},created(){this.opportunityId=this.$route.params.id,this.opportunityId?this.getOpportunityInfo():(this.$message.error("商机ID不能为空"),this.goBack())},methods:{getOpportunityInfo(){this.opportunityInfo={id:this.opportunityId,opportunityName:"发明专利申请代理",customerName:"四川大学",opportunityType:"专利申请",status:"方案制定",expectedAmount:"25000",expectedSigningDate:"2024-06-30",principal:"李明",followUpCount:3,lastFollowUpDate:"2024-05-25",createDate:"2024-05-10",remark:"客户对方案基本满意，需要进一步完善细节"},this.form.followUpContact=this.opportunityInfo.contactName||"",this.form.contactPhone=this.opportunityInfo.contactPhone||"",this.form.followUpProgress=this.opportunityInfo.status||"",this.form.estimatedAgencyAmount=this.opportunityInfo.expectedAmount||"",this.form.estimatedSigningTime=this.opportunityInfo.expectedSigningDate||""},submitForm(){this.$refs.followUpForm.validate(t=>{if(!t)return this.$message.error("请完善表单信息"),!1;{const t={opportunityId:this.opportunityId,...this.form};console.log("提交的跟进数据:",t),this.$message.success("跟进记录提交成功"),this.goBack()}})},resetForm(){this.$refs.followUpForm.resetFields()},goBack(){this.$router.go(-1)},uploadFile(t){console.log("上传文件:",t);const e={name:t.file.name,url:URL.createObjectURL(t.file)};this.fileList.push(e)}}}),s=r,i=(o("cfeb"),o("2877")),n=Object(i["a"])(s,l,a,!1,null,null,null);e["default"]=n.exports},"6e6e":function(t,e,o){},cfeb:function(t,e,o){"use strict";o("6e6e")}}]);