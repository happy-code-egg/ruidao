(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60a85dd8"],{"4bbb":function(e,t,a){},"8e3f":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"expense-detail-container"},[t("div",{staticClass:"operation-btns"},[t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleSubmit}},[e._v("提交")]),t("el-button",{attrs:{size:"small"},on:{click:e.handleReturn}},[e._v("退回")]),e.isEdit?t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleEdit}},[e._v("编辑")]):e._e(),e.isEdit?t("el-button",{attrs:{size:"small",type:"danger"},on:{click:e.handleDelete}},[e._v("删除")]):e._e(),e.isEdit?t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleUpdatePayDate}},[e._v("更新实付日期")]):e._e()],1),t("div",{staticClass:"detail-form"},[t("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"出款单名称"}},[t("el-input",{attrs:{placeholder:"单行输入文本"},model:{value:e.form.expenseName,callback:function(t){e.$set(e.form,"expenseName",t)},expression:"form.expenseName"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"创建人"}},[t("el-input",{attrs:{placeholder:"单行输入文本",disabled:""},model:{value:e.form.creator,callback:function(t){e.$set(e.form,"creator",t)},expression:"form.creator"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"修改人"}},[t("el-input",{attrs:{placeholder:"单行输入文本",disabled:""},model:{value:e.form.modifier,callback:function(t){e.$set(e.form,"modifier",t)},expression:"form.modifier"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"出款单号"}},[t("el-input",{attrs:{placeholder:"单行输入文本"},model:{value:e.form.expenseNo,callback:function(t){e.$set(e.form,"expenseNo",t)},expression:"form.expenseNo"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"创建时间"}},[t("el-input",{attrs:{placeholder:"单行输入文本",disabled:""},model:{value:e.form.createTime,callback:function(t){e.$set(e.form,"createTime",t)},expression:"form.createTime"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"修改时间"}},[t("el-input",{attrs:{placeholder:"单行输入文本",disabled:""},model:{value:e.form.modifyTime,callback:function(t){e.$set(e.form,"modifyTime",t)},expression:"form.modifyTime"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"客户名称"}},[t("el-input",{attrs:{placeholder:"单行输入文本"},model:{value:e.form.clientName,callback:function(t){e.$set(e.form,"clientName",t)},expression:"form.clientName"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"出款公司"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.form.company,callback:function(t){e.$set(e.form,"company",t)},expression:"form.company"}},[t("el-option",{attrs:{label:"公司A",value:"companyA"}}),t("el-option",{attrs:{label:"公司B",value:"companyB"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"出款日期"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"年/月/日"},model:{value:e.form.expenseDate,callback:function(t){e.$set(e.form,"expenseDate",t)},expression:"form.expenseDate"}})],1)],1)],1),t("el-form-item",{attrs:{label:"出款单备注"}},[t("el-input",{attrs:{type:"textarea",placeholder:"多行输入",rows:"4"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),t("div",{staticClass:"part-table-header"},[t("div",{staticClass:"part-table-title"},[e._v(" 费用明细表 ")]),t("div",{staticClass:"part-table-options"},[t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleSelectFee}},[e._v("选择费用")]),t("span",{staticClass:"total-fee"},[e._v("总费用: "),t("span",{staticClass:"fee-amount"},[e._v(e._s(e.form.totalAmount))])])],1)]),t("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.form.expenseItems,border:""}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),t("el-table-column",{attrs:{prop:"requestNo",label:"申请号"}}),t("el-table-column",{attrs:{prop:"requestDate",label:"申请日"}}),t("el-table-column",{attrs:{prop:"ourNo",label:"我方文号"}}),t("el-table-column",{attrs:{prop:"caseName",label:"项目名称"}}),t("el-table-column",{attrs:{prop:"clientName",label:"客户名称"}}),t("el-table-column",{attrs:{prop:"applicant",label:"申请人"}}),t("el-table-column",{attrs:{prop:"processItem",label:"处理事项"}}),t("el-table-column",{attrs:{prop:"expenseName",label:"费用名称"}}),t("el-table-column",{attrs:{prop:"payableAmount",label:"应付金额"}}),t("el-table-column",{attrs:{prop:"paymentDate",label:"应付日期"}}),t("el-table-column",{attrs:{prop:"actualPayDate",label:"实付日期"}}),t("el-table-column",{attrs:{prop:"expenseRemark",label:"费用备注"}}),t("el-table-column",{attrs:{prop:"cooperativeAgency",label:"合作代理机构"}}),t("el-table-column",{attrs:{prop:"pctApplicationNo",label:"PCT申请号"}}),t("el-table-column",{attrs:{prop:"registrationNo",label:"注册号"}}),t("el-table-column",{attrs:{prop:"currency",label:"币别"}}),t("el-table-column",{attrs:{prop:"trademarkCategory",label:"商标类别"}}),t("el-table-column",{attrs:{prop:"signCompany",label:"乙方签约公司"}}),t("el-table-column",{attrs:{prop:"paymentNo",label:"请款单号"}}),t("el-table-column",{attrs:{prop:"processStatus",label:"处理事项状态"}}),t("el-table-column",{attrs:{prop:"casePhase",label:"案件阶段"}}),t("el-table-column",{attrs:{prop:"processRemark",label:"处理事项备注"}}),t("el-table-column",{attrs:{prop:"processManager",label:"处理事项处理人"}}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"80"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"small",type:"text"},on:{click:function(t){return e.handleRemoveItem(a.$index)}}},[e._v("移除")])]}}])})],1)],1)],1),t("el-dialog",{attrs:{title:"选择费用",visible:e.selectFeeDialogVisible,width:"90%",top:"5vh"},on:{"update:visible":function(t){e.selectFeeDialogVisible=t}}},[t("div",{staticClass:"fee-select-dialog"},[t("div",{staticClass:"dialog-search"},[t("el-form",{attrs:{model:e.feeSearchForm,"label-width":"140px",size:"small"}},[t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"我方文号"}},[t("el-input",{attrs:{placeholder:"单行输入文本"},model:{value:e.feeSearchForm.ourNo,callback:function(t){e.$set(e.feeSearchForm,"ourNo",t)},expression:"feeSearchForm.ourNo"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"申请号"}},[t("el-input",{attrs:{placeholder:"单行输入文本"},model:{value:e.feeSearchForm.requestNo,callback:function(t){e.$set(e.feeSearchForm,"requestNo",t)},expression:"feeSearchForm.requestNo"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"客户文号"}},[t("el-input",{attrs:{placeholder:"单行输入文本"},model:{value:e.feeSearchForm.clientNo,callback:function(t){e.$set(e.feeSearchForm,"clientNo",t)},expression:"feeSearchForm.clientNo"}})],1)],1)],1),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"应付日期"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"到","start-placeholder":"年/月/日","end-placeholder":"年/月/日"},model:{value:e.feeSearchForm.payableDate,callback:function(t){e.$set(e.feeSearchForm,"payableDate",t)},expression:"feeSearchForm.payableDate"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"申请日"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"到","start-placeholder":"年/月/日","end-placeholder":"年/月/日"},model:{value:e.feeSearchForm.requestDate,callback:function(t){e.$set(e.feeSearchForm,"requestDate",t)},expression:"feeSearchForm.requestDate"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"项目名称"}},[t("el-input",{attrs:{placeholder:"单行输入文本"},model:{value:e.feeSearchForm.caseName,callback:function(t){e.$set(e.feeSearchForm,"caseName",t)},expression:"feeSearchForm.caseName"}})],1)],1)],1),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"客户名称"}},[t("el-input",{attrs:{placeholder:"单行输入文本"},model:{value:e.feeSearchForm.clientName,callback:function(t){e.$set(e.feeSearchForm,"clientName",t)},expression:"feeSearchForm.clientName"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"技术主导"}},[t("el-input",{attrs:{placeholder:"单行输入文本"},model:{value:e.feeSearchForm.techLead,callback:function(t){e.$set(e.feeSearchForm,"techLead",t)},expression:"feeSearchForm.techLead"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"申请人"}},[t("el-input",{attrs:{placeholder:"单行输入文本"},model:{value:e.feeSearchForm.applicant,callback:function(t){e.$set(e.feeSearchForm,"applicant",t)},expression:"feeSearchForm.applicant"}})],1)],1)],1),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"项目类型"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.feeSearchForm.caseType,callback:function(t){e.$set(e.feeSearchForm,"caseType",t)},expression:"feeSearchForm.caseType"}},[t("el-option",{attrs:{label:"专利",value:"patent"}}),t("el-option",{attrs:{label:"商标",value:"trademark"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"申请类型"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.feeSearchForm.requestType,callback:function(t){e.$set(e.feeSearchForm,"requestType",t)},expression:"feeSearchForm.requestType"}},[t("el-option",{attrs:{label:"新申请",value:"new"}}),t("el-option",{attrs:{label:"续费",value:"renewal"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"处理事项"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.feeSearchForm.processItem,callback:function(t){e.$set(e.feeSearchForm,"processItem",t)},expression:"feeSearchForm.processItem"}},[t("el-option",{attrs:{label:"申请",value:"apply"}}),t("el-option",{attrs:{label:"答复",value:"reply"}})],1)],1)],1)],1),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"费用名称"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.feeSearchForm.feeName,callback:function(t){e.$set(e.feeSearchForm,"feeName",t)},expression:"feeSearchForm.feeName"}},[t("el-option",{attrs:{label:"申请费",value:"applicationFee"}}),t("el-option",{attrs:{label:"代理费",value:"agentFee"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"业务类型"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.feeSearchForm.businessType,callback:function(t){e.$set(e.feeSearchForm,"businessType",t)},expression:"feeSearchForm.businessType"}},[t("el-option",{attrs:{label:"专利申请",value:"patentApp"}}),t("el-option",{attrs:{label:"商标注册",value:"trademarkReg"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"代理机构"}},[t("el-input",{attrs:{placeholder:"单行输入文本"},model:{value:e.feeSearchForm.agency,callback:function(t){e.$set(e.feeSearchForm,"agency",t)},expression:"feeSearchForm.agency"}})],1)],1)],1),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"国家（地区）"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.feeSearchForm.country,callback:function(t){e.$set(e.feeSearchForm,"country",t)},expression:"feeSearchForm.country"}},[t("el-option",{attrs:{label:"中国",value:"china"}}),t("el-option",{attrs:{label:"美国",value:"usa"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"处理事项完成日"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"到","start-placeholder":"年/月/日","end-placeholder":"年/月/日"},model:{value:e.feeSearchForm.processItemCompleteDate,callback:function(t){e.$set(e.feeSearchForm,"processItemCompleteDate",t)},expression:"feeSearchForm.processItemCompleteDate"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"是否提前公布"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.feeSearchForm.isPreVote,callback:function(t){e.$set(e.feeSearchForm,"isPreVote",t)},expression:"feeSearchForm.isPreVote"}},[t("el-option",{attrs:{label:"是",value:"yes"}}),t("el-option",{attrs:{label:"否",value:"no"}})],1)],1)],1)],1),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"项目业务员"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.feeSearchForm.caseBusinessUser,callback:function(t){e.$set(e.feeSearchForm,"caseBusinessUser",t)},expression:"feeSearchForm.caseBusinessUser"}},[t("el-option",{attrs:{label:"公司A",value:"companyA"}}),t("el-option",{attrs:{label:"公司B",value:"companyB"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"乙方签约公司"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.feeSearchForm.caseBusinessUser,callback:function(t){e.$set(e.feeSearchForm,"caseBusinessUser",t)},expression:"feeSearchForm.caseBusinessUser"}},[t("el-option",{attrs:{label:"公司A",value:"companyA"}}),t("el-option",{attrs:{label:"公司B",value:"companyB"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"处理事项处理人"}},[t("el-input",{attrs:{placeholder:"单行输入文本"},model:{value:e.feeSearchForm.caseBusinessUser,callback:function(t){e.$set(e.feeSearchForm,"caseBusinessUser",t)},expression:"feeSearchForm.caseBusinessUser"}})],1)],1)],1),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"处理事项项目阶段"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.feeSearchForm.casePhase,callback:function(t){e.$set(e.feeSearchForm,"casePhase",t)},expression:"feeSearchForm.casePhase"}},[t("el-option",{attrs:{label:"阶段A",value:"phaseA"}}),t("el-option",{attrs:{label:"阶段B",value:"phaseB"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"协办所"}},[t("el-input",{attrs:{placeholder:"单行输入文本"},model:{value:e.feeSearchForm.cooperativeAgency,callback:function(t){e.$set(e.feeSearchForm,"cooperativeAgency",t)},expression:"feeSearchForm.cooperativeAgency"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"支出类型"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.feeSearchForm.expenseType,callback:function(t){e.$set(e.feeSearchForm,"expenseType",t)},expression:"feeSearchForm.expenseType"}},[t("el-option",{attrs:{label:"支出类型A",value:"expenseTypeA"}}),t("el-option",{attrs:{label:"支出类型B",value:"expenseTypeB"}})],1)],1)],1)],1),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"项目状态"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.feeSearchForm.caseStatus,callback:function(t){e.$set(e.feeSearchForm,"caseStatus",t)},expression:"feeSearchForm.caseStatus"}},[t("el-option",{attrs:{label:"状态A",value:"statusA"}}),t("el-option",{attrs:{label:"状态B",value:"statusB"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"处理事项处理状态"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.feeSearchForm.processStatus,callback:function(t){e.$set(e.feeSearchForm,"processStatus",t)},expression:"feeSearchForm.processStatus"}},[t("el-option",{attrs:{label:"状态A",value:"statusA"}}),t("el-option",{attrs:{label:"状态B",value:"statusB"}})],1)],1)],1)],1)],1),t("div",{staticClass:"dialog-search-buttons"},[t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleFeeSearch}},[e._v("查询")]),t("el-button",{attrs:{size:"small"},on:{click:e.handleFeeReset}},[e._v("重置")]),t("el-button",{attrs:{size:"small"},on:{click:e.handleCancelFeeSelect}},[e._v("取消")]),t("el-button",{attrs:{size:"small",type:"success"},on:{click:e.handleSaveFeeSelect}},[e._v("保存")])],1)],1),t("el-table",{staticStyle:{"margin-top":"20px"},attrs:{data:e.feeTableData},on:{"selection-change":e.handleFeeSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"80"}}),t("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),t("el-table-column",{attrs:{prop:"requestNo",label:"申请号"}}),t("el-table-column",{attrs:{prop:"requestDate",label:"申请日"}}),t("el-table-column",{attrs:{prop:"ourNo",label:"我方文号"}}),t("el-table-column",{attrs:{prop:"caseName",label:"项目名称"}}),t("el-table-column",{attrs:{prop:"techLead",label:"技术主导"}}),t("el-table-column",{attrs:{prop:"clientName",label:"客户名称"}}),t("el-table-column",{attrs:{prop:"applicant",label:"申请人"}}),t("el-table-column",{attrs:{prop:"processItem",label:"处理事项"}}),t("el-table-column",{attrs:{prop:"processStatus",label:"处理事项状态"}}),t("el-table-column",{attrs:{prop:"casePhase",label:"处理事项项目价段"}}),t("el-table-column",{attrs:{prop:"feeName",label:"费用名称"}}),t("el-table-column",{attrs:{prop:"amount",label:"金额"}}),t("el-table-column",{attrs:{prop:"currency",label:"币别"}}),t("el-table-column",{attrs:{prop:"preVoteAmount",label:"投票前的金额"}}),t("el-table-column",{attrs:{prop:"preVoteCurrency",label:"投票前的币别"}})],1)],1)])],1)},r=[],s=(a("14d9"),a("e9f5"),a("7d54"),a("ab43"),{name:"ExpenseDetail",data(){return{isEdit:!1,isEditing:!1,selectFeeDialogVisible:!1,selectedFees:[],form:{expenseName:"",expenseNo:"",clientName:"",creator:"",createTime:"",modifier:"",modifyTime:"",company:"",expenseDate:"",remark:"",totalAmount:456,expenseItems:[]},feeSearchForm:{ourNo:"",requestNo:"",clientNo:"",payableDate:"",clientName:"",techLead:"",requestDate:"",caseName:"",applicant:"",caseType:"",requestType:"",processItem:"",feeName:"",businessType:"",agency:""},feeTableData:[]}},created(){const e=this.$route.params.id;e&&"0"!==e?(this.isEdit=!0,this.fetchExpenseDetail(e)):(this.isEditing=!0,this.initNewExpense())},methods:{fetchExpenseDetail(e){setTimeout(()=>{this.form={expenseName:"支出单"+e,expenseNo:"CK"+(2023e3+parseInt(e)),clientName:"客户"+e,creator:"创建人"+(e%3+1),createTime:`2023-06-${10+parseInt(e)} 09:3${e}`,modifier:"修改人"+(e%3+1),modifyTime:`2023-06-${10+parseInt(e)} 10:0${e}`,company:"公司"+(e%3+1),expenseDate:"2023-06-"+(12+parseInt(e)),remark:parseInt(e)%2===0?"备注内容"+e:"",totalAmount:456,expenseItems:Array.from({length:3}).map((t,a)=>({requestNo:"SQ"+(2023100+a),requestDate:"2023-05-"+(15+a),ourNo:"WF"+(2023200+a),caseName:"项目"+(a+1),clientName:"客户"+parseInt(e),applicant:"申请人"+(a%3+1),processItem:"处理事项"+(a+1),expenseName:"费用项目"+(a+1),payableAmount:(500+200*a).toFixed(2),paymentDate:"2023-06-"+(15+a),actualPayDate:parseInt(e)%2===0?"2023-06-"+(16+a):"",expenseRemark:a%2===0?"费用备注"+(a+1):"",cooperativeAgency:"代理机构"+(a%3+1),pctApplicationNo:"PCT"+(2023300+a),registrationNo:"ZL"+(2023400+a),currency:"CNY",trademarkCategory:"商标类别"+(a%3+1),signCompany:"乙方签约公司"+(a%3+1),paymentNo:"请款单号"+(a+1),processStatus:"处理事项状态"+(a%3+1),casePhase:"案件阶段"+(a%3+1),processRemark:"处理事项备注"+(a+1),processManager:"处理事项处理人"+(a%3+1)}))}},300)},initNewExpense(){const e=new Date,t=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`,a=`${t} ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`;this.form={expenseName:"",expenseNo:"CK"+Math.floor(1e4*Math.random()).toString().padStart(4,"0"),clientName:"",creator:"当前用户",createTime:a,modifier:"当前用户",modifyTime:a,company:"",expenseDate:t,remark:"",totalAmount:456,expenseItems:[]}},handleSubmit(){this.$message.success("提交成功"),this.handleGoBack()},handleReturn(){this.$message.success("退回成功"),this.handleGoBack()},handleGoBack(){this.$router.go(-1)},handleEdit(){this.isEditing=!0},handleDelete(){this.$confirm("确认删除该支出单?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$message.success("删除成功"),this.handleGoBack()}).catch(()=>{})},handleUpdatePayDate(){this.$message.success("实付日期更新成功")},handleSelectFee(){this.selectFeeDialogVisible=!0,this.getFeeList()},handleRemoveItem(e){this.form.expenseItems.splice(e,1),this.calculateTotalAmount()},getFeeList(){this.feeTableData=Array.from({length:10}).map((e,t)=>({id:t+1,requestNo:"SQ"+(2023100+t),requestDate:"2023-05-"+(15+t),ourNo:"WF"+(2023200+t),caseName:"项目"+(t+1),techLead:"技术主导"+(t%3+1),clientName:"客户"+(t%3+1),applicant:"申请人"+(t%3+1),processItem:"处理事项"+(t+1),processStatus:"状态"+(t%3+1),casePhase:"阶段"+(t%3+1),feeName:"费用"+(t+1),amount:(500+100*t).toFixed(2),currency:"CNY",preVoteAmount:(450+100*t).toFixed(2),preVoteCurrency:"CNY"}))},handleFeeSearch(){this.getFeeList()},handleFeeReset(){this.feeSearchForm={ourNo:"",requestNo:"",clientNo:"",payableDate:"",clientName:"",techLead:"",requestDate:"",caseName:"",applicant:"",caseType:"",requestType:"",processItem:"",feeName:"",businessType:"",agency:""}},handleFeeSelectionChange(e){this.selectedFees=e},handleCancelFeeSelect(){this.selectFeeDialogVisible=!1},handleSaveFeeSelect(){this.selectedFees.forEach(e=>{this.form.expenseItems.push({requestNo:e.requestNo,requestDate:e.requestDate,ourNo:e.ourNo,caseName:e.caseName,clientName:e.clientName,applicant:e.applicant,processItem:e.processItem,expenseName:e.feeName,payableAmount:e.amount,paymentDate:"",actualPayDate:"",expenseRemark:"",cooperativeAgency:""})}),this.calculateTotalAmount(),this.selectFeeDialogVisible=!1,this.$message.success("费用添加成功")},calculateTotalAmount(){let e=0;this.form.expenseItems.forEach(t=>{e+=parseFloat(t.payableAmount||0)}),this.form.totalAmount=e.toFixed(2)}}}),o=s,c=(a("d78d"),a("2877")),n=Object(c["a"])(o,l,r,!1,null,"325cebd6",null);t["default"]=n.exports},d78d:function(e,t,a){"use strict";a("4bbb")}}]);