(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4739ff71"],{"3e48":function(e,a,t){"use strict";t.r(a);var l=function(){var e=this,a=e._self._c;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"body-part-search"},[a("div",{staticClass:"part-search-buttons"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.exportData}},[e._v("导出")]),a("el-button",{attrs:{size:"small"},on:{click:e.markProcessed}},[e._v("标记处理")])],1)]),a("div",{staticClass:"body-part-content"},[e._m(0),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",size:"small"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"80",align:"center"}}),a("el-table-column",{attrs:{type:"index",label:"序号",width:"60",align:"center"}}),a("el-table-column",{attrs:{prop:"projectCode",label:"勾选",width:"80",align:"center"}}),a("el-table-column",{attrs:{prop:"projectNumber",label:"项目编号","min-width":"120",align:"center"}}),a("el-table-column",{attrs:{prop:"applicationNo",label:"申请号","min-width":"140",align:"center"}}),a("el-table-column",{attrs:{prop:"applicationDate",label:"申请日","min-width":"120",align:"center"}}),a("el-table-column",{attrs:{prop:"caseName",label:"案件名称","min-width":"180",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"applicationType",label:"案件类型","min-width":"120",align:"center"}}),a("el-table-column",{attrs:{prop:"caseStatus",label:"案件状态","min-width":"120",align:"center"}}),a("el-table-column",{attrs:{prop:"isReduction",label:"是否减缓","min-width":"100",align:"center"}}),a("el-table-column",{attrs:{prop:"noticeFee",label:"通知书官费","min-width":"120",align:"center"}}),a("el-table-column",{attrs:{prop:"systemFee",label:"系统官费","min-width":"120",align:"center"}}),a("el-table-column",{attrs:{prop:"agency",label:"代理机构","min-width":"120",align:"center"}}),a("el-table-column",{attrs:{prop:"fileName",label:"文件名称","min-width":"180",align:"center","show-overflow-tooltip":""}})],1),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.pagination.total>0,expression:"pagination.total > 0"}],attrs:{total:e.pagination.total,"current-page":e.pagination.currentPage,"page-sizes":[10,20,50,100],"page-size":e.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])},n=[function(){var e=this,a=e._self._c;return a("div",{staticClass:"part-table-header"},[a("div",{staticClass:"part-table-title"},[a("span",[e._v("异常官费")])])])}],s=(t("e9f5"),t("ab43"),t("88a7"),t("271a"),t("5494"),t("7cf8")),r={name:"AbnormalFee",data(){return{loading:!1,tableData:[],pagination:{currentPage:1,pageSize:20,total:0},selectedRows:[]}},created(){this.fetchData()},methods:{async fetchData(){this.loading=!0;try{const e={page:this.pagination.currentPage,limit:this.pagination.pageSize},a=await s["a"].abnormalFee(e);a.data.success?(this.tableData=a.data.data.list,this.pagination.total=a.data.data.total,this.pagination.currentPage=a.data.data.current_page):this.$message.error(a.data.message||"查询失败")}catch(e){console.error("查询异常官费数据失败:",e),this.$message.error("查询失败，请稍后重试")}finally{this.loading=!1}},async exportData(){try{this.$message.info("正在导出数据，请稍候...");const e=await s["a"].exportAbnormalFee({}),a=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),t=window.URL.createObjectURL(a),l=document.createElement("a");l.href=t,l.download=`异常官费_${(new Date).toISOString().slice(0,10)}.xlsx`,document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(t),this.$message.success("数据导出成功")}catch(e){console.error("导出数据失败:",e),this.$message.error("导出失败，请稍后重试")}},async markProcessed(){if(0!==this.selectedRows.length)try{const e=this.selectedRows.map(e=>e.id);await s["a"].markAbnormalFeeProcessed(e),this.$message.success("标记处理成功"),this.fetchData()}catch(e){console.error("标记处理失败:",e),this.$message.error("标记处理失败，请稍后重试")}else this.$message.warning("请选择要标记的数据")},handleSelectionChange(e){this.selectedRows=e},handleSizeChange(e){this.pagination.pageSize=e,this.fetchData()},handleCurrentChange(e){this.pagination.currentPage=e,this.fetchData()}}},i=r,o=t("2877"),c=Object(o["a"])(i,l,n,!1,null,null,null);a["default"]=c.exports},"7cf8":function(e,a,t){"use strict";var l=t("a417"),n=t("c1fb");const s={itemMonitor(e){return n["a"].get(l["a"].host+"/api/case-monitor/item-monitor",{params:e})},exportItemMonitor(e){return n["a"].post(l["a"].host+"/api/case-monitor/item-monitor/export",e,{responseType:"blob"})},feeMonitor(e){return n["a"].get(l["a"].host+"/api/case-monitor/fee-monitor",{params:e})},exportFeeMonitor(e){return n["a"].post(l["a"].host+"/api/case-monitor/fee-monitor/export",e,{responseType:"blob"})},abnormalFee(e){return n["a"].get(l["a"].host+"/api/case-monitor/abnormal-fee",{params:e})},exportAbnormalFee(e){return n["a"].post(l["a"].host+"/api/case-monitor/abnormal-fee/export",e,{responseType:"blob"})},markAbnormalFeeProcessed(e){return n["a"].post(l["a"].host+"/api/case-monitor/abnormal-fee/mark-processed",{ids:e})},getBusinessStaff(){return n["a"].get(l["a"].host+"/api/users/business-staff")},getTechnicalLeads(){return n["a"].get(l["a"].host+"/api/users/technical-leads")},getItemResponsible(){return n["a"].get(l["a"].host+"/api/users/item-responsible")},getCaseTypes(){return[{label:"专利",value:"专利"},{label:"商标",value:"商标"},{label:"版权",value:"版权"},{label:"科服",value:"科服"}]},getBusinessTypes(){return[{label:"申请",value:"申请"},{label:"审查",value:"审查"},{label:"维护",value:"维护"}]},getApplicationTypes(){return[{label:"发明专利",value:"发明专利"},{label:"实用新型",value:"实用新型"},{label:"外观设计",value:"外观设计"}]},getProcessingItems(){return[{label:"官费监控",value:"官费监控"},{label:"年费监控",value:"年费监控"},{label:"申请费",value:"申请费"},{label:"审查费",value:"审查费"}]},getCaseStatuses(){return[{label:"已提交",value:"已提交"},{label:"审批中",value:"审批中"},{label:"已授权",value:"已授权"}]},getAgencyTypes(){return[{label:"我司代理",value:"我司代理"},{label:"客户直接申请",value:"客户直接申请"},{label:"其他代理",value:"其他代理"}]},getApplicationCountries(){return[{label:"中国",value:"中国"},{label:"美国",value:"美国"},{label:"欧盟",value:"欧盟"},{label:"日本",value:"日本"}]},getFeeTypes(){return[{label:"申请费",value:"申请费"},{label:"审查费",value:"审查费"},{label:"年费",value:"年费"},{label:"登记费",value:"登记费"}]},getProcessingItemTypes(){return[{label:"官方来文",value:"官方来文"},{label:"客户来文",value:"客户来文"},{label:"内部事项",value:"内部事项"}]},getProcessingStatuses(){return[{label:"待处理",value:"待处理"},{label:"处理中",value:"处理中"},{label:"已完成",value:"已完成"}]}};a["a"]=s}}]);