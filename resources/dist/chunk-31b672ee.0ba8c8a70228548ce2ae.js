(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31b672ee"],{"13d5":function(e,t,a){"use strict";var l=a("23e7"),o=a("d58f").left,r=a("a640"),s=a("1212"),i=a("9adc"),c=!i&&s>79&&s<83,n=c||!r("reduce");l({target:"Array",proto:!0,forced:n},{reduce:function(e){var t=arguments.length;return o(this,e,t,t>1?arguments[1]:void 0)}})},"50ff":function(e,t,a){"use strict";a("ce1a")},8558:function(e,t,a){"use strict";var l=a("cfe9"),o=a("b5db"),r=a("c6b6"),s=function(e){return o.slice(0,e.length)===e};e.exports=function(){return s("Bun/")?"BUN":s("Cloudflare-Workers")?"CLOUDFLARE":s("Deno/")?"DENO":s("Node.js/")?"NODE":l.Bun&&"string"==typeof Bun.version?"BUN":l.Deno&&"object"==typeof Deno.version?"DENO":"process"===r(l.process)?"NODE":l.window&&l.document?"BROWSER":"REST"}()},9485:function(e,t,a){"use strict";var l=a("23e7"),o=a("2266"),r=a("59ed"),s=a("825a"),i=a("46c4"),c=TypeError;l({target:"Iterator",proto:!0,real:!0},{reduce:function(e){s(this),r(e);var t=i(this),a=arguments.length<2,l=a?void 0:arguments[1],n=0;if(o(t,(function(t){a?(a=!1,l=t):l=e(l,t,n),n++}),{IS_RECORD:!0}),a)throw new c("Reduce of empty iterator with no initial value");return l}})},"9adc":function(e,t,a){"use strict";var l=a("8558");e.exports="NODE"===l},a640:function(e,t,a){"use strict";var l=a("d039");e.exports=function(e,t){var a=[][e];return!!a&&l((function(){a.call(null,t||function(){return 1},1)}))}},ce1a:function(e,t,a){},d58f:function(e,t,a){"use strict";var l=a("59ed"),o=a("7b0b"),r=a("44ad"),s=a("07fa"),i=TypeError,c="Reduce of empty array with no initial value",n=function(e){return function(t,a,n,m){var p=o(t),d=r(p),f=s(p);if(l(a),0===f&&n<2)throw new i(c);var u=e?f-1:0,h=e?-1:1;if(n<2)while(1){if(u in d){m=d[u],u+=h;break}if(u+=h,e?u<0:f<=u)throw new i(c)}for(;e?u>=0:f>u;u+=h)u in d&&(m=a(m,d[u],u,p));return m}};e.exports={left:n(!1),right:n(!0)}},dc694:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"fee-payment-detail-container"},[t("div",{staticClass:"page-header"},[t("div",{staticClass:"header-actions"},[t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleSubmit}},[e._v("提交")]),t("el-button",{attrs:{size:"small",type:"danger"},on:{click:e.handleReturn}},[e._v("退回")]),t("el-button",{attrs:{size:"small",type:"warning"},on:{click:e.handleUpdate}},[e._v("更新实付日期")]),t("el-button",{attrs:{size:"small",type:"success"},on:{click:e.handleShare}},[e._v("年费完成")]),t("el-button",{attrs:{size:"small",type:"info"},on:{click:e.handleHistory}},[e._v("导出缴费清单")])],1)]),t("div",{staticClass:"info-section"},[t("el-form",{ref:"editForm",attrs:{model:e.editForm,rules:e.rules,"label-width":"100px"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"缴费单名称",prop:"paymentName"}},[t("el-input",{model:{value:e.editForm.paymentName,callback:function(t){e.$set(e.editForm,"paymentName",t)},expression:"editForm.paymentName"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"创建人"}},[t("el-input",{attrs:{placeholder:"单行输入文本"},model:{value:e.editForm.creator,callback:function(t){e.$set(e.editForm,"creator",t)},expression:"editForm.creator"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"创建时间"}},[t("el-input",{attrs:{placeholder:"单行输入文本"},model:{value:e.editForm.createTime,callback:function(t){e.$set(e.editForm,"createTime",t)},expression:"editForm.createTime"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"项目类型",prop:"caseType"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.editForm.caseType,callback:function(t){e.$set(e.editForm,"caseType",t)},expression:"editForm.caseType"}},e._l(e.caseTypeOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"修改人"}},[t("el-input",{attrs:{placeholder:"单行输入文本"},model:{value:e.editForm.modifier,callback:function(t){e.$set(e.editForm,"modifier",t)},expression:"editForm.modifier"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"修改时间"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"年/月/日"},model:{value:e.editForm.modifyTime,callback:function(t){e.$set(e.editForm,"modifyTime",t)},expression:"editForm.modifyTime"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"代理机构",prop:"agency"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.editForm.agency,callback:function(t){e.$set(e.editForm,"agency",t)},expression:"editForm.agency"}},e._l(e.agencyOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"缴费单号"}},[t("el-input",{attrs:{placeholder:"系统生成"},model:{value:e.editForm.paymentNo,callback:function(t){e.$set(e.editForm,"paymentNo",t)},expression:"editForm.paymentNo"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"实付日期",prop:"actualPayDate"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"年/月/日"},model:{value:e.editForm.actualPayDate,callback:function(t){e.$set(e.editForm,"actualPayDate",t)},expression:"editForm.actualPayDate"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:"缴费单备注",prop:"paymentRemark"}},[t("el-input",{attrs:{type:"textarea",rows:3,placeholder:"多行输入"},model:{value:e.editForm.paymentRemark,callback:function(t){e.$set(e.editForm,"paymentRemark",t)},expression:"editForm.paymentRemark"}})],1)],1)],1)],1)],1),t("div",{staticClass:"detail-section"},[t("div",{staticClass:"fee-detail-search"},[t("div",{staticClass:"fee-action-buttons"},[t("el-button",{attrs:{size:"small"},on:{click:e.selectAllFees}},[e._v("全选")]),t("el-button",{attrs:{size:"small"},on:{click:e.unselectAllFees}},[e._v("全不选")]),t("el-button",{attrs:{size:"small"},on:{click:e.batchModifyHeader}},[e._v("批量修改缴费抬头")]),t("span",{staticClass:"total-amount"},[e._v("总金额 "+e._s(e.calculateSelectedTotal()))]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.showSelectFees}},[e._v("选择费用")])],1)]),t("el-table",{ref:"feeTable",staticStyle:{width:"100%"},attrs:{data:e.feeDetails,border:""},on:{"selection-change":e.handleFeeSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"80"}}),t("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),t("el-table-column",{attrs:{prop:"applicationNo",label:"申请号",width:"120","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"applicationDate",label:"申请日",width:"100","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"ourRef",label:"我方文号",width:"120","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"paymentHeader",label:"缴费抬头",width:"150","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"caseName",label:"项目名称",width:"150","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"technicalManager",label:"技术主导",width:"100","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"clientName",label:"客户名称",width:"120","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"applicantName",label:"申请人",width:"120","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"processItem",label:"处理事项",width:"120","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"casePrice",label:"项目阶段",width:"100","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"feeName",label:"费用名称",width:"120","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"feeAmount",label:"金额",width:"100","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"amount"},[e._v("¥"+e._s(a.row.feeAmount))])]}}])}),t("el-table-column",{attrs:{prop:"paymentDeadline",label:"缴费期限",width:"100","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"actualPayDate",label:"实付日期",width:"100","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"cancelNo",label:"注册号",width:"100","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"trademarkClass",label:"商标类别",width:"100","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"processStatus",label:"处理事项状态",width:"120","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"processRemark",label:"处理事项处理人",width:"140","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"feeRemark",label:"费用备注",width:"120","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"companyAccount",label:"收款公司账户",width:"150","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"creditCode",label:"信用代码",width:"150","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(t){return t.preventDefault(),e.removeFeeDetail(a.$index)}}},[e._v(" 删除 ")])]}}])})],1)],1),t("el-dialog",{attrs:{title:"添加费用项",visible:e.feeDialogVisible,width:"60%"},on:{"update:visible":function(t){e.feeDialogVisible=t}}},[t("el-form",{ref:"feeForm",attrs:{model:e.feeForm,rules:e.feeRules,"label-width":"100px"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"我方文号",prop:"ourRef"}},[t("el-input",{model:{value:e.feeForm.ourRef,callback:function(t){e.$set(e.feeForm,"ourRef",t)},expression:"feeForm.ourRef"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"申请号",prop:"applicationNo"}},[t("el-input",{model:{value:e.feeForm.applicationNo,callback:function(t){e.$set(e.feeForm,"applicationNo",t)},expression:"feeForm.applicationNo"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"项目名称",prop:"caseName"}},[t("el-input",{model:{value:e.feeForm.caseName,callback:function(t){e.$set(e.feeForm,"caseName",t)},expression:"feeForm.caseName"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"申请人名称",prop:"applicantName"}},[t("el-input",{model:{value:e.feeForm.applicantName,callback:function(t){e.$set(e.feeForm,"applicantName",t)},expression:"feeForm.applicantName"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"费用类型",prop:"feeType"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择费用类型"},model:{value:e.feeForm.feeType,callback:function(t){e.$set(e.feeForm,"feeType",t)},expression:"feeForm.feeType"}},[t("el-option",{attrs:{label:"官费",value:"官费"}}),t("el-option",{attrs:{label:"代理费",value:"代理费"}}),t("el-option",{attrs:{label:"其他费用",value:"其他费用"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"费用名称",prop:"feeName"}},[t("el-input",{model:{value:e.feeForm.feeName,callback:function(t){e.$set(e.feeForm,"feeName",t)},expression:"feeForm.feeName"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"费用金额",prop:"feeAmount"}},[t("el-input",{attrs:{type:"number"},model:{value:e.feeForm.feeAmount,callback:function(t){e.$set(e.feeForm,"feeAmount",t)},expression:"feeForm.feeAmount"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"币种",prop:"currency"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择币种"},model:{value:e.feeForm.currency,callback:function(t){e.$set(e.feeForm,"currency",t)},expression:"feeForm.currency"}},[t("el-option",{attrs:{label:"CNY",value:"CNY"}}),t("el-option",{attrs:{label:"USD",value:"USD"}}),t("el-option",{attrs:{label:"EUR",value:"EUR"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"缴费期限",prop:"paymentDeadline"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.feeForm.paymentDeadline,callback:function(t){e.$set(e.feeForm,"paymentDeadline",t)},expression:"feeForm.paymentDeadline"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"费用状态",prop:"feeStatus"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择费用状态"},model:{value:e.feeForm.feeStatus,callback:function(t){e.$set(e.feeForm,"feeStatus",t)},expression:"feeForm.feeStatus"}},[t("el-option",{attrs:{label:"未缴费",value:"未缴费"}}),t("el-option",{attrs:{label:"已缴费",value:"已缴费"}}),t("el-option",{attrs:{label:"缴费中",value:"缴费中"}})],1)],1)],1)],1),t("el-form-item",{attrs:{label:"备注",prop:"remark"}},[t("el-input",{attrs:{type:"textarea",rows:2},model:{value:e.feeForm.remark,callback:function(t){e.$set(e.feeForm,"remark",t)},expression:"feeForm.remark"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.feeDialogVisible=!1}}},[e._v("取消")]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.confirmAddFee}},[e._v("确定")])],1)],1),t("el-dialog",{attrs:{title:"修改缴费抬头",visible:e.modifyHeaderVisible,width:"500px"},on:{"update:visible":function(t){e.modifyHeaderVisible=t}}},[t("el-form",{attrs:{model:e.headerForm,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"缴费抬头"}},[t("el-input",{attrs:{placeholder:"单行输入文本"},model:{value:e.headerForm.paymentHeader,callback:function(t){e.$set(e.headerForm,"paymentHeader",t)},expression:"headerForm.paymentHeader"}})],1),t("el-form-item",{attrs:{label:"统一信用代码"}},[t("el-input",{attrs:{placeholder:"单行输入文本"},model:{value:e.headerForm.creditCode,callback:function(t){e.$set(e.headerForm,"creditCode",t)},expression:"headerForm.creditCode"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.modifyHeaderVisible=!1}}},[e._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.confirmModifyHeader}},[e._v("确认")])],1)],1),t("el-dialog",{attrs:{title:"选择费用",visible:e.selectFeesVisible,width:"90%",top:"5vh"},on:{"update:visible":function(t){e.selectFeesVisible=t}}},[t("div",{staticClass:"fees-dialog-content"},[t("div",{staticClass:"fees-search"},[t("el-form",{attrs:{model:e.feesSearchForm,"label-width":"130px",size:"small"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"我方文号"}},[t("el-input",{attrs:{placeholder:"单行输入文本"},model:{value:e.feesSearchForm.ourFileNo,callback:function(t){e.$set(e.feesSearchForm,"ourFileNo",t)},expression:"feesSearchForm.ourFileNo"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"申请号"}},[t("el-input",{attrs:{placeholder:"单行输入文本"},model:{value:e.feesSearchForm.applicationNo,callback:function(t){e.$set(e.feesSearchForm,"applicationNo",t)},expression:"feesSearchForm.applicationNo"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"客户文号"}},[t("el-input",{attrs:{placeholder:"单行输入文本"},model:{value:e.feesSearchForm.clientFileNo,callback:function(t){e.$set(e.feesSearchForm,"clientFileNo",t)},expression:"feesSearchForm.clientFileNo"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"缴费期限"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"到","start-placeholder":"年/月/日","end-placeholder":"年/月/日",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.feesSearchForm.paymentDeadlineRange,callback:function(t){e.$set(e.feesSearchForm,"paymentDeadlineRange",t)},expression:"feesSearchForm.paymentDeadlineRange"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"官方发文日"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"到","start-placeholder":"年/月/日","end-placeholder":"年/月/日",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.feesSearchForm.officialDocDateRange,callback:function(t){e.$set(e.feesSearchForm,"officialDocDateRange",t)},expression:"feesSearchForm.officialDocDateRange"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"实收日期"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"到","start-placeholder":"年/月/日","end-placeholder":"年/月/日",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.feesSearchForm.actualReceiveDateRange,callback:function(t){e.$set(e.feesSearchForm,"actualReceiveDateRange",t)},expression:"feesSearchForm.actualReceiveDateRange"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"项目类型"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.feesSearchForm.caseType,callback:function(t){e.$set(e.feesSearchForm,"caseType",t)},expression:"feesSearchForm.caseType"}},[t("el-option",{attrs:{label:"发明专利",value:"invention"}}),t("el-option",{attrs:{label:"实用新型",value:"utility"}}),t("el-option",{attrs:{label:"外观设计",value:"design"}}),t("el-option",{attrs:{label:"商标",value:"trademark"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"申请类型"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.feesSearchForm.applicationType,callback:function(t){e.$set(e.feesSearchForm,"applicationType",t)},expression:"feesSearchForm.applicationType"}},[t("el-option",{attrs:{label:"新申请",value:"new"}}),t("el-option",{attrs:{label:"PCT",value:"pct"}}),t("el-option",{attrs:{label:"优先权",value:"priority"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"处理事项"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.feesSearchForm.processItem,callback:function(t){e.$set(e.feesSearchForm,"processItem",t)},expression:"feesSearchForm.processItem"}},[t("el-option",{attrs:{label:"申请费",value:"application_fee"}}),t("el-option",{attrs:{label:"实质审查费",value:"examination_fee"}}),t("el-option",{attrs:{label:"年费",value:"annual_fee"}})],1)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"客户名称"}},[t("el-input",{attrs:{placeholder:"用途：可输入关键字"},model:{value:e.feesSearchForm.clientName,callback:function(t){e.$set(e.feesSearchForm,"clientName",t)},expression:"feesSearchForm.clientName"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"技术主导"}},[t("el-input",{attrs:{placeholder:"单行输入文本"},model:{value:e.feesSearchForm.technicalManager,callback:function(t){e.$set(e.feesSearchForm,"technicalManager",t)},expression:"feesSearchForm.technicalManager"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"费用名称"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.feesSearchForm.feeName,callback:function(t){e.$set(e.feesSearchForm,"feeName",t)},expression:"feesSearchForm.feeName"}},[t("el-option",{attrs:{label:"申请费",value:"application_fee"}}),t("el-option",{attrs:{label:"实质审查费",value:"examination_fee"}}),t("el-option",{attrs:{label:"年费",value:"annual_fee"}})],1)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"申请人"}},[t("el-input",{attrs:{placeholder:"单行输入文本"},model:{value:e.feesSearchForm.applicant,callback:function(t){e.$set(e.feesSearchForm,"applicant",t)},expression:"feesSearchForm.applicant"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"缴费类型"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.feesSearchForm.paymentType,callback:function(t){e.$set(e.feesSearchForm,"paymentType",t)},expression:"feesSearchForm.paymentType"}},[t("el-option",{attrs:{label:"官费",value:"official_fee"}}),t("el-option",{attrs:{label:"代理费",value:"agent_fee"}}),t("el-option",{attrs:{label:"其他费用",value:"other_fee"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"申请日"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"到","start-placeholder":"年/月/日","end-placeholder":"年/月/日",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.feesSearchForm.applicationDateRange,callback:function(t){e.$set(e.feesSearchForm,"applicationDateRange",t)},expression:"feesSearchForm.applicationDateRange"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"代理机构"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.feesSearchForm.agency,callback:function(t){e.$set(e.feesSearchForm,"agency",t)},expression:"feesSearchForm.agency"}},[t("el-option",{attrs:{label:"睿道资产管理",value:"ruidao"}}),t("el-option",{attrs:{label:"其他代理机构",value:"other"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"项目名称"}},[t("el-input",{attrs:{placeholder:"单行输入文本"},model:{value:e.feesSearchForm.caseName,callback:function(t){e.$set(e.feesSearchForm,"caseName",t)},expression:"feesSearchForm.caseName"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"业务类型"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.feesSearchForm.businessType,callback:function(t){e.$set(e.feesSearchForm,"businessType",t)},expression:"feesSearchForm.businessType"}},[t("el-option",{attrs:{label:"国内业务",value:"domestic"}}),t("el-option",{attrs:{label:"涉外业务",value:"foreign"}})],1)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"处理事项完成日"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"到","start-placeholder":"年/月/日","end-placeholder":"年/月/日",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.feesSearchForm.completionDateRange,callback:function(t){e.$set(e.feesSearchForm,"completionDateRange",t)},expression:"feesSearchForm.completionDateRange"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"国家（地区）"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.feesSearchForm.country,callback:function(t){e.$set(e.feesSearchForm,"country",t)},expression:"feesSearchForm.country"}},[t("el-option",{attrs:{label:"中国",value:"china"}}),t("el-option",{attrs:{label:"美国",value:"usa"}}),t("el-option",{attrs:{label:"日本",value:"japan"}}),t("el-option",{attrs:{label:"韩国",value:"korea"}}),t("el-option",{attrs:{label:"其他",value:"other"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"应收日期"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"到","start-placeholder":"年/月/日","end-placeholder":"年/月/日",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.feesSearchForm.receivableDateRange,callback:function(t){e.$set(e.feesSearchForm,"receivableDateRange",t)},expression:"feesSearchForm.receivableDateRange"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"延迟审查"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.feesSearchForm.delayApplication,callback:function(t){e.$set(e.feesSearchForm,"delayApplication",t)},expression:"feesSearchForm.delayApplication"}},[t("el-option",{attrs:{label:"是",value:"yes"}}),t("el-option",{attrs:{label:"否",value:"no"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"是否提前公布"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.feesSearchForm.isEarlyPublication,callback:function(t){e.$set(e.feesSearchForm,"isEarlyPublication",t)},expression:"feesSearchForm.isEarlyPublication"}},[t("el-option",{attrs:{label:"是",value:"yes"}}),t("el-option",{attrs:{label:"否",value:"no"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"项目业务员"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"后台网络选人"},model:{value:e.feesSearchForm.conditionalSalesman,callback:function(t){e.$set(e.feesSearchForm,"conditionalSalesman",t)},expression:"feesSearchForm.conditionalSalesman"}},[t("el-option",{attrs:{label:"业务员A",value:"salesmanA"}}),t("el-option",{attrs:{label:"业务员B",value:"salesmanB"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"乙方签约公司"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.feesSearchForm.contractingCompany,callback:function(t){e.$set(e.feesSearchForm,"contractingCompany",t)},expression:"feesSearchForm.contractingCompany"}},[t("el-option",{attrs:{label:"公司A",value:"companyA"}}),t("el-option",{attrs:{label:"公司B",value:"companyB"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"处理事项处理人"}},[t("el-input",{attrs:{placeholder:"单行输入文本"},model:{value:e.feesSearchForm.processManager,callback:function(t){e.$set(e.feesSearchForm,"processManager",t)},expression:"feesSearchForm.processManager"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"项目状态"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.feesSearchForm.caseStatus,callback:function(t){e.$set(e.feesSearchForm,"caseStatus",t)},expression:"feesSearchForm.caseStatus"}},[t("el-option",{attrs:{label:"正常",value:"normal"}}),t("el-option",{attrs:{label:"已结案",value:"closed"}}),t("el-option",{attrs:{label:"暂停",value:"paused"}})],1)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"所属分部"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.feesSearchForm.department,callback:function(t){e.$set(e.feesSearchForm,"department",t)},expression:"feesSearchForm.department"}},[t("el-option",{attrs:{label:"分部A",value:"departmentA"}}),t("el-option",{attrs:{label:"分部B",value:"departmentB"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"处理事项处理状态"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.feesSearchForm.processStatus,callback:function(t){e.$set(e.feesSearchForm,"processStatus",t)},expression:"feesSearchForm.processStatus"}},[t("el-option",{attrs:{label:"已处理",value:"processed"}}),t("el-option",{attrs:{label:"未处理",value:"unprocessed"}}),t("el-option",{attrs:{label:"处理中",value:"processing"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"处理事项项目阶段"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.feesSearchForm.caseStage,callback:function(t){e.$set(e.feesSearchForm,"caseStage",t)},expression:"feesSearchForm.caseStage"}},[t("el-option",{attrs:{label:"申请阶段",value:"application_stage"}}),t("el-option",{attrs:{label:"审查阶段",value:"examination_stage"}}),t("el-option",{attrs:{label:"授权阶段",value:"grant_stage"}})],1)],1)],1)],1)],1),t("div",{staticClass:"fees-search-buttons"},[t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.searchFees}},[e._v("查询")]),t("el-button",{attrs:{size:"small"},on:{click:e.resetFeesSearch}},[e._v("重置")]),t("el-button",{attrs:{size:"small"},on:{click:function(t){e.selectFeesVisible=!1}}},[e._v("取消")]),t("el-button",{attrs:{size:"small",type:"success"},on:{click:e.confirmSelectFees}},[e._v("保存")])],1)],1),t("el-table",{ref:"feesTable",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.availableFees,size:"small",border:"","max-height":"400"},on:{"selection-change":e.handleFeesSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"80"}}),t("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),t("el-table-column",{attrs:{prop:"applicationNo",label:"申请号",width:"120","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"applicationDate",label:"申请日",width:"100","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"ourFileNo",label:"我方文号",width:"120","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"paymentHeader",label:"缴费抬头",width:"150","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"caseName",label:"项目名称",width:"150","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"clientName",label:"客户名称",width:"120","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"applicant",label:"申请人",width:"120","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"processItem",label:"处理事项",width:"120","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"feeName",label:"费用名称",width:"120","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"amount",label:"金额",width:"100","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"paymentDeadline",label:"缴费期限",width:"100","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"officialDocDate",label:"应付日期",width:"100","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"actualPayDate",label:"实付日期",width:"100","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"receivableDate",label:"应收日期",width:"100","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"feeRemark",label:"费用备注",width:"120","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"companyAccount",label:"收款公司账户","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"creditCode",label:"信用代码",width:"150","show-overflow-tooltip":""}})],1),t("div",{staticClass:"fees-summary",staticStyle:{"margin-top":"20px","text-align":"right"}},[t("span",[e._v("已选择 "+e._s(e.selectedFees.length)+" 项，总金额："),t("strong",[e._v(e._s(e.selectedFeesTotalAmount))])])])],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.selectFeesVisible=!1}}},[e._v("确认")]),t("el-button",{attrs:{type:"primary"},on:{click:e.confirmSelectFees}},[e._v("取消")])],1)]),t("el-dialog",{attrs:{title:"手动添加",visible:e.manualTicketAddVisible,width:"80%",top:"5vh"},on:{"update:visible":function(t){e.manualTicketAddVisible=t}}},[t("div",{staticClass:"manual-add-content"},[t("el-form",{attrs:{model:e.ticketForm,"label-width":"100px",size:"small"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"项目号"}},[t("el-input",{attrs:{placeholder:"单行输入"},model:{value:e.ticketForm.caseNo,callback:function(t){e.$set(e.ticketForm,"caseNo",t)},expression:"ticketForm.caseNo"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"申请号"}},[t("el-input",{attrs:{placeholder:"单行输入"},model:{value:e.ticketForm.applicationNo,callback:function(t){e.$set(e.ticketForm,"applicationNo",t)},expression:"ticketForm.applicationNo"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"项目名称"}},[t("el-input",{attrs:{placeholder:"单行输入"},model:{value:e.ticketForm.caseName,callback:function(t){e.$set(e.ticketForm,"caseName",t)},expression:"ticketForm.caseName"}})],1)],1)],1)],1),t("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.ticketTableData,border:"",size:"small"}},[t("el-table-column",{attrs:{type:"selection",width:"80"}}),t("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),t("el-table-column",{attrs:{prop:"processItem",label:"处理事项","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"casePhase",label:"项目阶段","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"processStatus",label:"处理状态","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"issueDate",label:"发文日期","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"contentDeadline",label:"内容期限","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"completionDate",label:"完成日期","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"processor",label:"处理人","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"processRemark",label:"事项备注","show-overflow-tooltip":""}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.manualTicketAddVisible=!1}}},[e._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.confirmManualTicketAdd}},[e._v("确定")])],1)])],1)},o=[],r=(a("14d9"),a("13d5"),a("e9f5"),a("910d"),a("7d54"),a("ab43"),a("9485"),a("a732"),{name:"FeePaymentDetail",data(){return{paymentId:"",paymentInfo:{},feeDetails:[],flowRecords:[],attachments:[],isNewMode:!1,editForm:{paymentNo:"",paymentName:"",caseType:"",agency:"",totalAmount:"",actualPayDate:"",paymentRemark:""},rules:{paymentName:[{required:!0,message:"请输入缴费单名称",trigger:"blur"}],caseType:[{required:!0,message:"请选择项目类型",trigger:"change"}],agency:[{required:!0,message:"请选择代理机构",trigger:"change"}]},caseTypeOptions:[{label:"发明专利",value:"发明专利"},{label:"实用新型",value:"实用新型"},{label:"外观设计",value:"外观设计"},{label:"商标",value:"商标"},{label:"版权",value:"版权"}],agencyOptions:[{label:"睿道资产管理",value:"睿道资产管理"},{label:"其他代理机构",value:"其他代理机构"}],feeDialogVisible:!1,feeForm:{ourRef:"",applicationNo:"",caseName:"",applicantName:"",feeType:"",feeName:"",feeAmount:"",currency:"CNY",paymentDeadline:"",feeStatus:"未缴费",remark:""},feeRules:{ourRef:[{required:!0,message:"请输入我方文号",trigger:"blur"}],caseName:[{required:!0,message:"请输入项目名称",trigger:"blur"}],feeType:[{required:!0,message:"请选择费用类型",trigger:"change"}],feeName:[{required:!0,message:"请输入费用名称",trigger:"blur"}],feeAmount:[{required:!0,message:"请输入费用金额",trigger:"blur"}]},modifyHeaderVisible:!1,headerForm:{paymentHeader:"",creditCode:""},selectFeesVisible:!1,feesSearchForm:{ourFileNo:"",applicationNo:"",clientFileNo:"",paymentDeadlineRange:[],officialDocDateRange:[],actualReceiveDateRange:[],caseType:"",applicationType:"",processItem:"",feeName:"",clientName:"",technicalManager:"",paymentType:"",applicant:"",applicationDateRange:[],businessType:"",agency:"",receivableDateRange:[],completionDateRange:[],delayApplication:"",contractingCompany:"",processStatus:"",processManager:"",caseName:"",caseStatus:"",conditionalSalesman:"",caseStage:""},availableFees:[],selectedFees:[],selectedFeesTotalAmount:0,manualTicketAddVisible:!1,ticketForm:{caseNo:"",applicationNo:"",caseName:""},ticketTableData:[],feeSearchForm:{agency:"",paymentNo:"",actualPayDate:"",remark:""}}},computed:{pageTitle(){return this.isNewMode?"新增缴费单":"编辑缴费单 - "+(this.editForm.paymentNo||"")}},created(){this.paymentId=this.$route.params.id,this.isNewMode="new"===this.paymentId,this.isNewMode?this.initNewPayment():(this.getPaymentDetail(),this.initEditForm())},methods:{initNewPayment(){const e=new Date,t=e.toISOString().split("T")[0];this.paymentInfo={paymentNo:"系统生成",paymentName:"",caseType:"",agency:"",totalAmount:"0.00",actualPayDate:t,creator:"当前用户",createTime:e.toLocaleString(),flowStatus:"草稿",paymentRemark:"",modifier:"当前用户",modifyTime:e.toLocaleString()},this.editForm={paymentName:"",caseType:"",agency:"",totalAmount:"0.00",actualPayDate:t,paymentRemark:"",creator:"当前用户",createTime:e.toLocaleString(),modifier:"当前用户",modifyTime:e.toLocaleString()},this.feeDetails=[],this.flowRecords=[],this.attachments=[]},initEditForm(){this.editForm={paymentName:this.paymentInfo.paymentName,caseType:this.paymentInfo.caseType,agency:this.paymentInfo.agency,totalAmount:this.paymentInfo.totalAmount,actualPayDate:this.paymentInfo.actualPayDate,paymentRemark:this.paymentInfo.paymentRemark,creator:this.paymentInfo.creator,createTime:this.paymentInfo.createTime,modifier:this.paymentInfo.modifier,modifyTime:this.paymentInfo.modifyTime}},getPaymentDetail(){this.paymentInfo={paymentNo:"JF2024030001",paymentName:"专利缴费单001",caseType:"发明专利",agency:"睿道资产管理",totalAmount:"15800.00",actualPayDate:"2024-01-15",creator:"张三",createTime:"2024-01-10 09:30:00",flowStatus:"已完成",paymentRemark:"本次缴费包含申请费、实质审查费等多项费用，需要按期缴纳以确保专利申请正常进行。",modifier:"李四",modifyTime:"2024-01-15 10:00:00"},this.feeDetails=[{id:1,ourRef:"RD2024001",applicationNo:"CN202410001234.5",applicationDate:"2024-01-15",paymentHeader:"北京科技有限公司",caseName:"一种新型智能设备",technicalManager:"张主管",clientName:"北京科技有限公司",applicantName:"北京科技有限公司",processItem:"申请费",casePrice:"1000.00",feeName:"申请费",feeAmount:"950.00",paymentDeadline:"2024-03-10",actualPayDate:"2024-01-20",cancelNo:"CAN2024001",trademarkClass:"第9类",processStatus:"已处理",processRemark:"已缴费完成",feeRemark:"标准申请费",companyAccount:"中国银行账户123456",creditCode:"91110000123456789X"},{id:2,ourRef:"RD2024001",applicationNo:"CN202410001234.5",applicationDate:"2024-01-15",paymentHeader:"北京科技有限公司",caseName:"一种新型智能设备",technicalManager:"张主管",clientName:"北京科技有限公司",applicantName:"北京科技有限公司",processItem:"实质审查费",casePrice:"2500.00",feeName:"实质审查费",feeAmount:"2500.00",paymentDeadline:"2024-03-10",actualPayDate:"2024-01-20",cancelNo:"CAN2024002",trademarkClass:"",processStatus:"已处理",processRemark:"已缴费完成",feeRemark:"实质审查请求费",companyAccount:"中国银行账户123456",creditCode:"91110000123456789X"},{id:3,ourRef:"RD2024002",applicationNo:"CN202410001235.6",applicationDate:"2024-01-16",paymentHeader:"上海创新科技",caseName:"智能控制系统",technicalManager:"李主管",clientName:"上海创新科技",applicantName:"上海创新科技",processItem:"代理服务费",casePrice:"12350.00",feeName:"代理服务费",feeAmount:"12350.00",paymentDeadline:"2024-03-15",actualPayDate:"2024-01-22",cancelNo:"",trademarkClass:"",processStatus:"已处理",processRemark:"代理费已收",feeRemark:"包含申请及后续服务",companyAccount:"工商银行账户789012",creditCode:"91310000987654321Y"}],this.flowRecords=[{timestamp:"2024-01-15 16:30:00",title:"缴费完成",content:"所有费用已成功缴纳，缴费单处理完成",operator:"财务部-王五",type:"success"},{timestamp:"2024-01-15 14:20:00",title:"费用分摊",content:"费用已按项目进行分摊，分摊完成",operator:"财务部-李四",type:"primary"},{timestamp:"2024-01-12 10:15:00",title:"审核通过",content:"财务经理审核通过，准备进行费用缴纳",operator:"财务经理-赵六",type:"success"},{timestamp:"2024-01-11 15:45:00",title:"提交审核",content:"缴费单已提交财务部门审核",operator:"创建人-张三",type:"info"},{timestamp:"2024-01-10 09:30:00",title:"创建缴费单",content:"创建缴费单，包含3个费用项目",operator:"创建人-张三",type:"info"}],this.attachments=[{fileName:"费用清单.xlsx",fileSize:"125KB",uploadTime:"2024-01-10 10:00:00",uploader:"张三"},{fileName:"缴费凭证.pdf",fileSize:"2.3MB",uploadTime:"2024-01-15 14:30:00",uploader:"李四"}]},getStatusTag(e){const t={"草稿":"info","待处理":"warning","处理中":"primary","已完成":"success","已退回":"danger"};return t[e]||"info"},getFeeStatusTag(e){const t={"未缴费":"warning","已缴费":"success","缴费中":"primary","已退款":"info"};return t[e]||"info"},goBack(){this.$router.go(-1)},handleSubmit(){this.$message.info("提交缴费单")},handleReturn(){this.$message.info("退回缴费单")},handleUpdate(){this.$message.info("更新实付日期")},handleShare(){this.$message.info("年费完成")},handleHistory(){this.$message.info("导出缴费清单")},handleSave(){this.$refs.editForm.validate(e=>{if(!e)return!1;this.isNewMode?(this.$message.success("新增缴费单成功"),this.$router.replace("/finance/fee-payment/detail/1001")):(this.$message.success("保存成功"),Object.assign(this.paymentInfo,this.editForm),this.isEditMode=!1)})},handleCancel(){this.isNewMode?this.$router.push("/finance/fee-payment/draft"):this.$router.go(-1)},handleProcess(){this.$message.info("处理缴费单")},handlePrint(){this.$message.info("打印缴费单")},handleCommand(e){switch(e){case"approve":this.$message.info("审批缴费单");break;case"return":this.$message.info("退回缴费单");break;case"cancel":this.$message.info("撤销缴费单");break;case"share":this.$message.info("费用分摊");break;case"history":this.$message.info("查看操作历史");break}},downloadFile(e){this.$message.success("下载文件："+e.fileName)},previewFile(e){this.$message.info("预览文件："+e.fileName)},addFeeDetail(){this.feeForm={ourRef:"",applicationNo:"",caseName:"",applicantName:"",feeType:"",feeName:"",feeAmount:"",currency:"CNY",paymentDeadline:new Date,feeStatus:"未缴费",remark:""},this.feeDialogVisible=!0},confirmAddFee(){this.$refs.feeForm.validate(e=>{if(!e)return!1;{this.feeDetails.push({id:Date.now(),ourRef:this.feeForm.ourRef,applicationNo:this.feeForm.applicationNo,caseName:this.feeForm.caseName,applicantName:this.feeForm.applicantName,feeType:this.feeForm.feeType,feeName:this.feeForm.feeName,feeAmount:this.feeForm.feeAmount,currency:this.feeForm.currency,paymentDeadline:this.feeForm.paymentDeadline,feeStatus:this.feeForm.feeStatus,remark:this.feeForm.remark});const e=this.feeDetails.reduce((e,t)=>e+parseFloat(t.feeAmount||0),0);this.editForm.totalAmount=e.toFixed(2),this.feeDialogVisible=!1,this.$message.success("添加费用项成功")}})},removeFeeDetail(e){this.$confirm("确定删除此费用项？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.feeDetails.splice(e,1);const t=this.feeDetails.reduce((e,t)=>e+parseFloat(t.feeAmount||0),0);this.editForm.totalAmount=t.toFixed(2),this.$message.success("删除费用项成功")}).catch(()=>{})},showModifyHeader(){this.headerForm={paymentHeader:this.editForm.paymentName,creditCode:"123456789012345678"},this.modifyHeaderVisible=!0},confirmModifyHeader(){this.$message.success("缴费抬头已修改"),this.editForm.paymentName=this.headerForm.paymentHeader,this.editForm.creditCode=this.headerForm.creditCode,this.modifyHeaderVisible=!1},showSelectFees(){this.feesSearchForm={ourFileNo:"",applicationNo:"",clientFileNo:"",paymentDeadlineRange:[],officialDocDateRange:[],actualReceiveDateRange:[],caseType:"",applicationType:"",processItem:"",feeName:"",clientName:"",technicalManager:"",paymentType:"",applicant:"",applicationDateRange:[],businessType:"",agency:"",receivableDateRange:[],completionDateRange:[],delayApplication:"",contractingCompany:"",processStatus:"",processManager:"",caseName:"",caseStatus:"",conditionalSalesman:"",caseStage:""},this.availableFees=[{applicationNo:"CN202410001234.5",applicationDate:"2024-01-15",ourFileNo:"RD2024001",paymentHeader:"北京科技有限公司",caseName:"一种新型智能设备",applicant:"北京科技有限公司",processItem:"申请费",feeName:"申请费",amount:"1000.00",paymentDeadline:"2024-03-10",actualPayDate:"2024-01-20",officialDocDate:"2024-01-10",receivableDate:"2024-01-25",feeRemark:"已缴纳申请费",companyAccount:"中国银行账户123456",creditCode:"91110000123456789X"},{applicationNo:"CN202410001235.6",applicationDate:"2024-01-16",ourFileNo:"RD2024002",paymentHeader:"上海创新科技",caseName:"智能控制系统",applicant:"上海创新科技",processItem:"代理服务费",feeName:"代理服务费",amount:"12350.00",paymentDeadline:"2024-03-15",actualPayDate:"2024-01-22",officialDocDate:"2024-01-12",receivableDate:"2024-01-28",feeRemark:"代理费已收取",companyAccount:"工商银行账户789012",creditCode:"91310000987654321Y"},{applicationNo:"CN202410001236.7",applicationDate:"2024-01-17",ourFileNo:"RD2024003",paymentHeader:"深圳技术公司",caseName:"新型材料技术",applicant:"深圳技术公司",processItem:"实质审查费",feeName:"实质审查费",amount:"2500.00",paymentDeadline:"2024-03-20",actualPayDate:"",officialDocDate:"2024-01-15",receivableDate:"2024-02-01",feeRemark:"待缴费",companyAccount:"建设银行账户345678",creditCode:"91440000654321987Z"}],this.selectedFees=[],this.selectedFeesTotalAmount=0,this.selectFeesVisible=!0},searchFees(){this.$message.info("查询费用"),this.availableFees=[{applicationNo:"CN202410001234.5",applicationDate:"2024-01-15",ourFileNo:"RD2024001",paymentHeader:"北京科技有限公司",caseName:"一种新型智能设备",applicant:"北京科技有限公司",processItem:"申请费",feeName:"申请费",amount:"1000.00",paymentDeadline:"2024-03-10",actualPayDate:"2024-01-20",officialDocDate:"2024-01-10",receivableDate:"2024-01-25",feeRemark:"已缴纳申请费",companyAccount:"中国银行账户123456",creditCode:"91110000123456789X"},{applicationNo:"CN202410001235.6",applicationDate:"2024-01-16",ourFileNo:"RD2024002",paymentHeader:"上海创新科技",caseName:"智能控制系统",applicant:"上海创新科技",processItem:"代理服务费",feeName:"代理服务费",amount:"12350.00",paymentDeadline:"2024-03-15",actualPayDate:"2024-01-22",officialDocDate:"2024-01-12",receivableDate:"2024-01-28",feeRemark:"代理费已收取",companyAccount:"工商银行账户789012",creditCode:"91310000987654321Y"},{applicationNo:"CN202410001236.7",applicationDate:"2024-01-17",ourFileNo:"RD2024003",paymentHeader:"深圳技术公司",caseName:"新型材料技术",applicant:"深圳技术公司",processItem:"实质审查费",feeName:"实质审查费",amount:"2500.00",paymentDeadline:"2024-03-20",actualPayDate:"",officialDocDate:"2024-01-15",receivableDate:"2024-02-01",feeRemark:"待缴费",companyAccount:"建设银行账户345678",creditCode:"91440000654321987Z"}]},resetFeesSearch(){this.$message.info("确定选择费用"),this.selectFeesVisible=!1,this.selectedFees=this.availableFees.filter(e=>this.selectedFees.some(t=>t.applicationNo===e.applicationNo)),this.selectedFeesTotalAmount=this.selectedFees.reduce((e,t)=>e+parseFloat(t.amount||0),0).toFixed(2)},handleFeesSelectionChange(e){this.selectedFees=e,this.selectedFeesTotalAmount=e.reduce((e,t)=>e+parseFloat(t.feeAmount||0),0).toFixed(2)},confirmSelectFees(){this.$message.success("已选择费用"),this.selectFeesVisible=!1,this.selectedFees.forEach(e=>{this.feeDetails.push({id:Date.now()+Math.random(),ourRef:e.ourFileNo,applicationNo:e.applicationNo,applicationDate:e.applicationDate,paymentHeader:e.paymentHeader,caseName:e.caseName,technicalManager:"技术主导",clientName:e.applicant,applicantName:e.applicant,processItem:e.processItem,casePrice:e.amount,feeName:e.feeName,feeAmount:e.amount,paymentDeadline:e.paymentDeadline,actualPayDate:e.actualPayDate,cancelNo:"",trademarkClass:"",processStatus:"已选择",processRemark:e.feeRemark,feeRemark:e.feeRemark,companyAccount:e.companyAccount,creditCode:e.creditCode})});const e=this.feeDetails.reduce((e,t)=>e+parseFloat(t.feeAmount||0),0);this.editForm.totalAmount=e.toFixed(2)},calculateTotal(){this.$message.info("选择金额"),this.showSelectFees()},confirmManualTicketAdd(){this.$message.success("手动添加成功"),this.manualTicketAddVisible=!1,this.feeDetails.push({id:Date.now()+Math.random(),ourRef:this.ticketForm.caseNo,applicationNo:this.ticketForm.applicationNo,caseName:this.ticketForm.caseName,applicantName:"手动添加",feeType:"官费",feeName:"官票",feeAmount:"0.00",currency:"CNY",paymentDeadline:new Date,feeStatus:"未缴费",remark:"手动添加"});const e=this.feeDetails.reduce((e,t)=>e+parseFloat(t.feeAmount||0),0);this.editForm.totalAmount=e.toFixed(2)},selectAllFees(){this.$refs.feeTable.toggleAllSelection(),this.selectedFees=this.feeDetails.map(e=>e),this.selectedFeesTotalAmount=this.feeDetails.reduce((e,t)=>e+parseFloat(t.feeAmount||0),0).toFixed(2)},unselectAllFees(){this.$refs.feeTable.clearSelection(),this.selectedFees=[],this.selectedFeesTotalAmount=0},batchModifyHeader(){this.modifyHeaderVisible=!0},calculateSelectedTotal(){return this.selectedFees.reduce((e,t)=>e+parseFloat(t.feeAmount||0),0).toFixed(2)}}}),s=r,i=(a("50ff"),a("2877")),c=Object(i["a"])(s,l,o,!1,null,"7d39b990",null);t["default"]=c.exports}}]);