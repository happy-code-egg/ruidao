(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-91e2f8a8"],{"3f0d":function(e,a,t){"use strict";var l=t("a417"),s=t("c1fb");const r={getNewApplications(e){return s["a"].get(l["a"].host+"/api/assignment/new-applications",{params:e})},getMiddleCases(e){return s["a"].get(l["a"].host+"/api/assignment/middle-cases",{params:e})},getTechServiceCases(e){return s["a"].get(l["a"].host+"/api/assignment/tech-service-cases",{params:e})},getAssignedCases(e){return s["a"].get(l["a"].host+"/api/assignment/assigned-cases",{params:e})},batchAssign(e){return s["a"].post(l["a"].host+"/api/assignment/batch-assign",e)},directAssign(e){return s["a"].post(l["a"].host+"/api/assignment/direct-assign",e)},withdrawAssignment(e){return s["a"].post(l["a"].host+"/api/assignment/withdraw-assignment",e)},getAssignableUsers(){return s["a"].get(l["a"].host+"/api/assignment/assignable-users")},getProcessDetail(e){return s["a"].get(l["a"].host+"/api/assignment/process-detail/"+e)},getCaseTypes(){return[{label:"专利",value:"patent"},{label:"商标",value:"trademark"},{label:"版权",value:"copyright"},{label:"科服",value:"tech_service"}]},getBusinessTypes(){return[{label:"新申请",value:"new"},{label:"答复",value:"response"},{label:"补正",value:"amendment"},{label:"缴费",value:"payment"},{label:"其他",value:"other"}]},getApplicationTypes(){return[{label:"发明专利",value:"invention"},{label:"实用新型",value:"utility"},{label:"外观设计",value:"design"},{label:"商标注册",value:"trademark_registration"},{label:"软件著作权",value:"software_copyright"}]},getProcessingItems(){return[{label:"审查意见答复",value:"response"},{label:"实质审查请求",value:"request"},{label:"缴费",value:"payment"},{label:"补正",value:"amendment"},{label:"登记",value:"registration"}]},getAssignmentStatuses(){return[{label:"未分配",value:"unassigned"},{label:"已分配",value:"assigned"},{label:"处理中",value:"processing"},{label:"已完成",value:"completed"}]}};a["a"]=r},"3f37":function(e,a,t){"use strict";t.r(a);var l=function(){var e=this,a=e._self._c;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"body-part-search"},[a("el-form",{ref:"searchForm",attrs:{model:e.searchForm,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"我方文号"}},[a("el-input",{attrs:{size:"small",placeholder:"单行输入",clearable:""},model:{value:e.searchForm.ourRefNumber,callback:function(a){e.$set(e.searchForm,"ourRefNumber",a)},expression:"searchForm.ourRefNumber"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"项目名称"}},[a("el-input",{attrs:{size:"small",placeholder:"单行输入",clearable:""},model:{value:e.searchForm.caseName,callback:function(a){e.$set(e.searchForm,"caseName",a)},expression:"searchForm.caseName"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"客户名称"}},[a("el-input",{attrs:{size:"small",placeholder:"单行输入",clearable:""},model:{value:e.searchForm.clientName,callback:function(a){e.$set(e.searchForm,"clientName",a)},expression:"searchForm.clientName"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"业务类型"}},[a("el-select",{attrs:{size:"small",placeholder:"请选择",clearable:""},model:{value:e.searchForm.businessType,callback:function(a){e.$set(e.searchForm,"businessType",a)},expression:"searchForm.businessType"}},[a("el-option",{attrs:{label:"新申请",value:"new"}}),a("el-option",{attrs:{label:"答复",value:"response"}}),a("el-option",{attrs:{label:"补正",value:"amendment"}})],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"申请类型"}},[a("el-select",{attrs:{size:"small",placeholder:"请选择",clearable:""},model:{value:e.searchForm.applicationType,callback:function(a){e.$set(e.searchForm,"applicationType",a)},expression:"searchForm.applicationType"}},[a("el-option",{attrs:{label:"发明专利",value:"invention"}}),a("el-option",{attrs:{label:"实用新型",value:"utility"}}),a("el-option",{attrs:{label:"外观设计",value:"design"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"申请人"}},[a("el-input",{attrs:{size:"small",placeholder:"单行输入文本",clearable:""},model:{value:e.searchForm.applicant,callback:function(a){e.$set(e.searchForm,"applicant",a)},expression:"searchForm.applicant"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"项目处理人"}},[a("el-select",{attrs:{size:"small",placeholder:"后台配置选人",clearable:""},model:{value:e.searchForm.projectProcessor,callback:function(a){e.$set(e.searchForm,"projectProcessor",a)},expression:"searchForm.projectProcessor"}},[a("el-option",{attrs:{label:"张三",value:"zhangsan"}}),a("el-option",{attrs:{label:"李四",value:"lisi"}}),a("el-option",{attrs:{label:"王五",value:"wangwu"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"收单日期"}},[a("el-date-picker",{attrs:{size:"small",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.searchForm.receivingDateStart,callback:function(a){e.$set(e.searchForm,"receivingDateStart",a)},expression:"searchForm.receivingDateStart"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"项目业务人员"}},[a("el-select",{attrs:{size:"small",placeholder:"后台配置选人",clearable:""},model:{value:e.searchForm.caseBusinessStaff,callback:function(a){e.$set(e.searchForm,"caseBusinessStaff",a)},expression:"searchForm.caseBusinessStaff"}},[a("el-option",{attrs:{label:"王业务",value:"wangyewu"}}),a("el-option",{attrs:{label:"刘业务",value:"liuyewu"}}),a("el-option",{attrs:{label:"孙业务",value:"sunyewu"}})],1)],1)],1)],1)],1),a("div",{staticClass:"part-search-buttons"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleSearch}},[e._v("查询")]),a("el-button",{attrs:{size:"small"},on:{click:e.resetForm}},[e._v("重置")]),a("el-button",{attrs:{size:"small"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),a("div",{staticClass:"body-part-content"},[a("div",{staticClass:"part-table-header"},[e._m(0),a("div",{staticClass:"part-table-buttons"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleSearch}},[e._v("撤回")])],1)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",size:"small",border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"80"}}),a("el-table-column",{attrs:{type:"index",label:"序号",width:"60",align:"center"}}),a("el-table-column",{attrs:{prop:"ourRefNumber",label:"我方文号",width:"150","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"caseName",label:"项目名称","min-width":"180","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"businessType",label:"业务类型",width:"120"}}),a("el-table-column",{attrs:{prop:"applicationType",label:"申请类型",width:"120"}}),a("el-table-column",{attrs:{prop:"clientName",label:"客户名称",width:"180","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"technicalLead",label:"技术主导",width:"120"}}),a("el-table-column",{attrs:{prop:"setupTime",label:"立项时间",width:"120"}}),a("el-table-column",{attrs:{prop:"projectYear",label:"项目年份",width:"120"}}),a("el-table-column",{attrs:{prop:"applicationBatch",label:"申报批次",width:"120"}}),a("el-table-column",{attrs:{prop:"techServiceLevel",label:"科技服务级别",width:"140"}}),a("el-table-column",{attrs:{prop:"supervisingLocation",label:"主管地",width:"120"}}),a("el-table-column",{attrs:{prop:"caseBusinessStaff",label:"项目业务人员",width:"140"}}),a("el-table-column",{attrs:{prop:"presalesDocument",label:"售前支持",width:"150","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"projectProcessor",label:"项目处理人",width:"120"}}),a("el-table-column",{attrs:{prop:"assignmentStatus",label:"配案状态",width:"120"}}),a("el-table-column",{attrs:{prop:"statusTime",label:"状态时间",width:"120"}}),a("el-table-column",{attrs:{prop:"caseRemarks",label:"项目备注",width:"200","show-overflow-tooltip":""}})],1),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])},s=[function(){var e=this,a=e._self._c;return a("div",{staticClass:"part-table-title"},[a("span",[e._v("已分配科服")])])}],r=t("3f0d"),i={name:"AssignedProject",data(){return{searchForm:{ourRefNumber:"",caseName:"",clientName:"",businessType:"",applicationType:"",applicant:"",projectProcessor:"",receivingDateStart:"",receivingDateEnd:"",caseBusinessStaff:""},loading:!1,tableData:[],currentPage:1,pageSize:10,total:0,multipleSelection:[]}},created(){this.fetchData()},methods:{async fetchData(){this.loading=!0;try{const e={page:this.currentPage,limit:this.pageSize,...this.searchForm},a=await r["a"].getAssignedCases(e);a.data.success?(this.tableData=a.data.data.list,this.total=a.data.data.total,this.currentPage=a.data.data.current_page||1):(this.$message.error(a.data.message||"查询失败"),setTimeout(()=>{this.tableData=[{id:1,ourRefNumber:"EM-PRJ-2023-0001",caseName:"可穿戴设备专利申请",businessType:"新申请",applicationType:"发明专利",clientName:"北京科技有限公司",technicalLead:"张工",setupTime:"2023-05-10",projectYear:"2023",applicationBatch:"第一批",techServiceLevel:"高级",supervisingLocation:"北京",caseBusinessStaff:"王业务",presalesDocument:"售前方案-06-15初稿",projectProcessor:"张三",assignmentStatus:"已配案",statusTime:"2023-05-25",caseRemarks:"北京科技有限公司重点项目"},{id:2,ourRefNumber:"EM-PRJ-2023-0002",caseName:"智能家居控制系统",businessType:"答复",applicationType:"实用新型",clientName:"深圳智能科技有限公司",technicalLead:"李工",setupTime:"2023-06-05",projectYear:"2023",applicationBatch:"第二批",techServiceLevel:"标准",supervisingLocation:"深圳",caseBusinessStaff:"刘业务",presalesDocument:"技术方案-06-15修订版",projectProcessor:"李四",assignmentStatus:"已配案",statusTime:"2023-06-20",caseRemarks:"涉及多项专利申请"},{id:3,ourRefNumber:"EM-TM-2023-0001",caseName:"品牌标识商标申请",businessType:"新申请",applicationType:"普通商标",clientName:"广州品牌策划有限公司",technicalLead:"赵工",setupTime:"2023-07-01",projectYear:"2023",applicationBatch:"第一批",techServiceLevel:"高级",supervisingLocation:"广州",caseBusinessStaff:"孙业务",presalesDocument:"品牌方案-06-15终稿",projectProcessor:"王五",assignmentStatus:"已配案",statusTime:"2023-07-15",caseRemarks:"新品牌标识设计及申请"}],this.total=3},500))}catch(e){console.error("查询已分配项目数据失败:",e),this.$message.error("查询失败，请稍后重试")}finally{this.loading=!1}},handleSearch(){this.currentPage=1,this.fetchData()},resetForm(){this.$refs.searchForm.resetFields()},handleSelectionChange(e){this.multipleSelection=e},handleSizeChange(e){this.pageSize=e,this.fetchData()},handleCurrentChange(e){this.currentPage=e,this.fetchData()},handleView(e){this.$message.info("查看项目详情: "+e.caseName)}}},o=i,n=(t("5b11"),t("2877")),c=Object(n["a"])(o,l,s,!1,null,"5831af0b",null);a["default"]=c.exports},"5b11":function(e,a,t){"use strict";t("ce3d")},ce3d:function(e,a,t){}}]);