(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7586e83a"],{"050f":function(e,t,a){},"51fa":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"draft-add-container"},[e._m(0),t("div",{staticClass:"form-content"},[t("el-form",{ref:"formData",attrs:{model:e.formData,rules:e.rules,"label-width":"100px"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"我方文号",prop:"ourReference"}},[t("el-input",{model:{value:e.formData.ourReference,callback:function(t){e.$set(e.formData,"ourReference",t)},expression:"formData.ourReference"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"申请号",prop:"applicationNo"}},[t("el-input",{model:{value:e.formData.applicationNo,callback:function(t){e.$set(e.formData,"applicationNo",t)},expression:"formData.applicationNo"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"注册号",prop:"registrationNo"}},[t("el-input",{model:{value:e.formData.registrationNo,callback:function(t){e.$set(e.formData,"registrationNo",t)},expression:"formData.registrationNo"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"客户名称",prop:"customerName"}},[t("el-input",{model:{value:e.formData.customerName,callback:function(t){e.$set(e.formData,"customerName",t)},expression:"formData.customerName"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"技术主导",prop:"technicalLead"}},[t("el-input",{model:{value:e.formData.technicalLead,callback:function(t){e.$set(e.formData,"technicalLead",t)},expression:"formData.technicalLead"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"项目名称",prop:"caseName"}},[t("el-input",{model:{value:e.formData.caseName,callback:function(t){e.$set(e.formData,"caseName",t)},expression:"formData.caseName"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"发文日",prop:"sendDate"}},[t("el-date-picker",{attrs:{type:"date",placeholder:"年/月/日",format:"yyyy/MM/dd","value-format":"yyyy-MM-dd"},model:{value:e.formData.sendDate,callback:function(t){e.$set(e.formData,"sendDate",t)},expression:"formData.sendDate"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"文件小类",prop:"fileSubCategory"}},[t("el-select",{attrs:{placeholder:"后台配置选项"},model:{value:e.formData.fileSubCategory,callback:function(t){e.$set(e.formData,"fileSubCategory",t)},expression:"formData.fileSubCategory"}},[t("el-option",{attrs:{label:"后台配置选项",value:"后台配置选项"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"文件名称",prop:"fileName"}},[t("el-select",{attrs:{placeholder:"后台配置选项"},model:{value:e.formData.fileName,callback:function(t){e.$set(e.formData,"fileName",t)},expression:"formData.fileName"}},[t("el-option",{attrs:{label:"后台配置选项",value:"后台配置选项"}})],1)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"代理机构内",prop:"agency"}},[t("el-select",{attrs:{placeholder:"后台配置选项"},model:{value:e.formData.agency,callback:function(t){e.$set(e.formData,"agency",t)},expression:"formData.agency"}},[t("el-option",{attrs:{label:"后台配置选项",value:"后台配置选项"}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"文件",prop:"file"}},[t("el-input",{attrs:{placeholder:"后台配置选项",disabled:""},model:{value:e.formData.file,callback:function(t){e.$set(e.formData,"file",t)},expression:"formData.file"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"transfer-table-section"},[t("div",{staticClass:"section-header d-flex"},[t("h4",[e._v("转文客户")]),t("div",{staticClass:"transfer-customer-name ml-auto"},[t("el-input",{staticStyle:{width:"200px"},model:{value:e.transferCustomerName,callback:function(t){e.transferCustomerName=t},expression:"transferCustomerName"}})],1)]),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.customerData,border:""}},[t("el-table-column",{attrs:{prop:"serialNumber",label:"序号",width:"60"}}),t("el-table-column",{attrs:{prop:"customerName",label:"客户名称",width:"150"}}),t("el-table-column",{attrs:{prop:"technicalLead",label:"技术主导",width:"120"}}),t("el-table-column",{attrs:{prop:"ourReference",label:"我方文号",width:"120"}}),t("el-table-column",{attrs:{prop:"applicationNo",label:"申请号",width:"120"}}),t("el-table-column",{attrs:{prop:"registrationNo",label:"注册号",width:"120"}}),t("el-table-column",{attrs:{prop:"caseName",label:"项目名称",width:"150"}}),t("el-table-column",{attrs:{prop:"applicationType",label:"申请类型",width:"100"}}),t("el-table-column",{attrs:{prop:"sendDate",label:"发文日",width:"100"}}),t("el-table-column",{attrs:{prop:"agency",label:"代理机构内",width:"100"}}),t("el-table-column",{attrs:{prop:"fileSubCategory",label:"文件小类",width:"100"}}),t("el-table-column",{attrs:{prop:"fileName",label:"文件名称",width:"100"}}),t("el-table-column",{attrs:{prop:"file",label:"文件",width:"100"}}),t("el-table-column",{attrs:{label:"操作",width:"100",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"small",type:"text"},on:{click:function(t){return e.handleRemoveCustomer(a.$index)}}},[e._v("删除")])]}}])})],1),t("div",{staticClass:"button-group"},[t("el-button",{on:{click:e.handleQueryCustomer}},[e._v("查询")]),t("el-button",{on:{click:e.handleReset}},[e._v("重置")]),t("el-button",{on:{click:e.handleCancel}},[e._v("取消")]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleSubmit}},[e._v("保存")])],1)],1)])],1)],1)],1),t("el-dialog",{attrs:{title:"转文客户",visible:e.customerDialogVisible,width:"90%","close-on-click-modal":!1},on:{"update:visible":function(t){e.customerDialogVisible=t}}},[t("div",{staticClass:"customer-dialog-content"},[t("div",{staticClass:"dialog-header"},[t("div",{staticClass:"transfer-type-section"},[t("span",[e._v("转送类型")]),t("el-select",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"后台配置选项"},model:{value:e.transferType,callback:function(t){e.transferType=t},expression:"transferType"}},[t("el-option",{attrs:{label:"后台配置选项",value:"后台配置选项"}})],1),t("span",{staticStyle:{"margin-left":"30px"}},[e._v("选择模板")]),t("el-select",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"后台配置选项"},model:{value:e.templateType,callback:function(t){e.templateType=t},expression:"templateType"}},[t("el-option",{attrs:{label:"后台配置选项",value:"后台配置选项"}})],1)],1)]),t("div",{staticClass:"customer-table-section"},[t("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.selectedFiles,border:""}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),t("el-table-column",{attrs:{prop:"fileName",label:"文件名称",width:"150"}}),t("el-table-column",{attrs:{prop:"sendDate",label:"发文日",width:"120"}}),t("el-table-column",{attrs:{prop:"applicationNo",label:"申请号",width:"120"}}),t("el-table-column",{attrs:{prop:"registrationNo",label:"注册号",width:"120"}}),t("el-table-column",{attrs:{prop:"category",label:"类别",width:"100"}}),t("el-table-column",{attrs:{prop:"customerName",label:"客户名称",width:"150"}})],1)],1),t("div",{staticClass:"filter-section"},[t("div",{staticClass:"filter-row"},[t("div",{staticClass:"filter-col"},[t("el-checkbox",{model:{value:e.attachFile,callback:function(t){e.attachFile=t},expression:"attachFile"}},[e._v("附件打包")]),t("el-input",{staticStyle:{width:"200px","margin-left":"10px"},model:{value:e.attachFileName,callback:function(t){e.attachFileName=t},expression:"attachFileName"}})],1)])]),t("div",{staticClass:"email-form-section"},[t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-label"},[e._v("发件人")]),t("div",{staticClass:"form-field"},[t("el-input",{attrs:{placeholder:"默认当前用户邮件",disabled:""},model:{value:e.emailForm.sender,callback:function(t){e.$set(e.emailForm,"sender",t)},expression:"emailForm.sender"}})],1)]),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-label"},[e._v("收件人")]),t("div",{staticClass:"form-field"},[t("el-input",{model:{value:e.emailForm.recipient,callback:function(t){e.$set(e.emailForm,"recipient",t)},expression:"emailForm.recipient"}})],1)]),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-label"},[e._v("抄送")]),t("div",{staticClass:"form-field"},[t("el-input",{model:{value:e.emailForm.cc,callback:function(t){e.$set(e.emailForm,"cc",t)},expression:"emailForm.cc"}})],1)]),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-label"},[e._v("密送")]),t("div",{staticClass:"form-field"},[t("el-input",{model:{value:e.emailForm.bcc,callback:function(t){e.$set(e.emailForm,"bcc",t)},expression:"emailForm.bcc"}})],1)]),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-label"},[e._v("主题")]),t("div",{staticClass:"form-field"},[t("el-input",{model:{value:e.emailForm.subject,callback:function(t){e.$set(e.emailForm,"subject",t)},expression:"emailForm.subject"}})],1)]),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-label"},[e._v("正文")]),t("div",{staticClass:"form-field"},[t("div",{staticClass:"editor-wrapper"},[t("div",{staticClass:"editor-toolbar"},[t("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"标准",size:"mini"},model:{value:e.editorFontSize,callback:function(t){e.editorFontSize=t},expression:"editorFontSize"}},[t("el-option",{attrs:{label:"标准",value:"标准"}})],1),t("div",{staticClass:"toolbar-buttons"},[t("button",[t("i",{staticClass:"el-icon-bold"})]),t("button",[t("i",{staticClass:"el-icon-italic"})]),t("button",[t("i",{staticClass:"el-icon-s-unfold"})]),t("button",[t("i",{staticClass:"el-icon-s-fold"})])])],1),t("el-input",{attrs:{type:"textarea",rows:10,placeholder:"请输入文字"},model:{value:e.emailForm.content,callback:function(t){e.$set(e.emailForm,"content",t)},expression:"emailForm.content"}})],1)])])]),t("div",{staticClass:"dialog-footer"},[t("div",{staticClass:"left-buttons"},[t("el-button",[e._v("选收件人")]),t("el-select",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"邮件模板"},model:{value:e.emailTemplate,callback:function(t){e.emailTemplate=t},expression:"emailTemplate"}},[t("el-option",{attrs:{label:"后台配置选项",value:"后台配置选项"}})],1)],1),t("div",{staticClass:"right-buttons"},[t("el-button",{on:{click:function(t){e.customerDialogVisible=!1}}},[e._v("取消")]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleSendEmail}},[e._v("发送文转")])],1)])])])],1)},s=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-header"},[t("h3",[e._v("添加转文客户")])])}],i=(a("14d9"),{name:"TransferDraftAdd",data(){return{formData:{ourReference:"",applicationNo:"",registrationNo:"",customerName:"",technicalLead:"",caseName:"",sendDate:"",fileSubCategory:"",fileName:"",agency:"",file:"文件存储路径"},rules:{ourReference:[{required:!0,message:"请输入我方文号",trigger:"blur"}],customerName:[{required:!0,message:"请输入客户名称",trigger:"blur"}],caseName:[{required:!0,message:"请输入项目名称",trigger:"blur"}]},transferCustomerName:"",customerData:[],customerDialogVisible:!1,transferType:"",templateType:"",selectedFiles:[],attachFile:!1,attachFileName:"",emailForm:{sender:"默认当前用户邮件",recipient:"",cc:"",bcc:"",subject:"",content:""},editorFontSize:"标准",emailTemplate:""}},created(){const e=this.$route.params.id;e&&this.loadData(e)},methods:{loadData(e){this.formData={ourReference:"WR2023001",applicationNo:"CN202310123456.X",registrationNo:"ZL202310123456.X",customerName:"示例客户1",technicalLead:"张工",caseName:"一种智能设备",sendDate:"2023-05-20",fileSubCategory:"后台配置选项",fileName:"后台配置选项",agency:"后台配置选项",file:"文件存储路径"},this.customerData=[{serialNumber:1,customerName:"示例客户1",technicalLead:"张工",ourReference:"WR2023001",applicationNo:"CN202310123456.X",registrationNo:"ZL202310123456.X",caseName:"一种智能设备",applicationType:"发明专利",sendDate:"2023-05-20",agency:"代理机构A",fileSubCategory:"通知书",fileName:"授权通知",file:"文件1.pdf"}]},handleQueryCustomer(){this.transferCustomerName?(this.customerDialogVisible=!0,this.selectedFiles=[{fileName:"专利授权书",sendDate:"2023-05-15",applicationNo:"CN202310123456.X",registrationNo:"ZL202310123456.X",category:"发明专利",customerName:this.transferCustomerName}]):this.$message.warning("请输入转文客户名称")},handleReset(){this.transferCustomerName="",this.customerData=[]},handleCancel(){this.$router.push("/case/transfer/draft")},handleSubmit(){this.$refs.formData.validate(e=>{e&&(this.$message.success("保存成功"),this.$router.push("/case/transfer/draft"))})},handleRemoveCustomer(e){this.customerData.splice(e,1)},handleSendEmail(){if(this.emailForm.recipient)if(this.emailForm.subject){if(this.$message.success("邮件发送成功"),this.customerDialogVisible=!1,this.transferCustomerName&&this.selectedFiles.length>0){const e={serialNumber:this.customerData.length+1,customerName:this.transferCustomerName,technicalLead:this.formData.technicalLead,ourReference:this.formData.ourReference,applicationNo:this.formData.applicationNo,registrationNo:this.formData.registrationNo,caseName:this.formData.caseName,applicationType:"发明专利",sendDate:this.formData.sendDate,agency:this.formData.agency,fileSubCategory:this.formData.fileSubCategory,fileName:this.formData.fileName,file:this.formData.file};this.customerData.push(e)}}else this.$message.warning("请输入邮件主题");else this.$message.warning("请输入收件人")}}}),r=i,o=(a("58f6"),a("2877")),c=Object(o["a"])(r,l,s,!1,null,null,null);t["default"]=c.exports},"58f6":function(e,t,a){"use strict";a("050f")}}]);