(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-543d22fa"],{8600:function(e,t,a){},e846:function(e,t,a){"use strict";a("8600")},f225:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"agent-config"},[t("div",{staticClass:"body-part-search"},[t("el-form",{staticClass:"filter-form",attrs:{inline:!0,model:e.searchForm}},[t("el-form-item",{attrs:{label:"姓名"}},[t("el-input",{staticClass:"filter-item",attrs:{size:"small",placeholder:"请输入姓名",clearable:""},model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}})],1),t("el-form-item",{attrs:{label:"执业证号"}},[t("el-input",{staticClass:"filter-item",attrs:{size:"small",placeholder:"请输入执业证号",clearable:""},model:{value:e.searchForm.licenseNumber,callback:function(t){e.$set(e.searchForm,"licenseNumber",t)},expression:"searchForm.licenseNumber"}})],1),t("el-form-item",{attrs:{label:"所属机构"}},[t("el-input",{staticClass:"filter-item",attrs:{size:"small",placeholder:"请输入所属机构",clearable:""},model:{value:e.searchForm.agency,callback:function(t){e.$set(e.searchForm,"agency",t)},expression:"searchForm.agency"}})],1),t("el-form-item",[t("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("查询")]),t("el-button",{attrs:{size:"small",icon:"el-icon-refresh"},on:{click:e.handleReset}},[e._v("重置")])],1)],1)],1),t("div",{staticClass:"body-part-content"},[t("div",{staticClass:"part-table-header"},[e._m(0),t("div",{staticClass:"part-table-operations"},[t("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("新增")])],1)]),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[t("el-table-column",{attrs:{type:"selection",width:"80"}}),t("el-table-column",{attrs:{align:"center",prop:"id",label:"序号",width:"80"}}),t("el-table-column",{attrs:{align:"center",prop:"sort",label:"排序",width:"80",sortable:""}}),t("el-table-column",{attrs:{align:"center",prop:"nameCn",label:"姓名(中文)","min-width":"120"}}),t("el-table-column",{attrs:{align:"center",prop:"licenseNumber",label:"执业证号","min-width":"120"}}),t("el-table-column",{attrs:{align:"center",prop:"phone",label:"电话","min-width":"120"}}),t("el-table-column",{attrs:{align:"center",prop:"email",label:"邮件"}}),t("el-table-column",{attrs:{align:"center",prop:"agency",label:"所属机构"}}),t("el-table-column",{attrs:{align:"center",prop:"gender",label:"性别",width:"80"}}),t("el-table-column",{attrs:{align:"center",prop:"licenseExpiry",label:"执业日期","min-width":"120"}}),t("el-table-column",{attrs:{align:"center",prop:"specialty",label:"专业","min-width":"120"}}),t("el-table-column",{attrs:{align:"center",label:"操作",width:"200",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.handleView(a.row)}}},[e._v("查看")]),t("el-button",{attrs:{size:"small"},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v("编辑")])]}}])})],1),t("div",{staticClass:"pagination-container"},[t("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),t("el-dialog",{attrs:{title:e.dialogTitle,visible:e.showForm,width:"80%","close-on-click-modal":!1},on:{"update:visible":function(t){e.showForm=t}}},[t("el-form",{ref:"form",attrs:{model:e.form,"label-width":"140px",rules:e.rules}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"排序",prop:"sort"}},[t("el-input-number",{staticStyle:{width:"100%"},attrs:{min:1,placeholder:"请输入排序值"},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"姓名(中文)",prop:"nameCn"}},[t("el-input",{model:{value:e.form.nameCn,callback:function(t){e.$set(e.form,"nameCn",t)},expression:"form.nameCn"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"执业证号",prop:"licenseNumber"}},[t("el-input",{model:{value:e.form.licenseNumber,callback:function(t){e.$set(e.form,"licenseNumber",t)},expression:"form.licenseNumber"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"电话",prop:"phone"}},[t("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"资格证号",prop:"qualificationNumber"}},[t("el-input",{model:{value:e.form.qualificationNumber,callback:function(t){e.$set(e.form,"qualificationNumber",t)},expression:"form.qualificationNumber"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"信用等级",prop:"creditRating"}},[t("el-input",{model:{value:e.form.creditRating,callback:function(t){e.$set(e.form,"creditRating",t)},expression:"form.creditRating"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"邮件",prop:"email"}},[t("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"所属机构",prop:"agency"}},[t("el-input",{model:{value:e.form.agency,callback:function(t){e.$set(e.form,"agency",t)},expression:"form.agency"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"性别",prop:"gender"}},[t("el-select",{staticStyle:{width:"100%"},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[t("el-option",{attrs:{label:"男",value:"男"}}),t("el-option",{attrs:{label:"女",value:"女"}})],1)],1)],1)],1),t("div",[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"姓名(英文)",prop:"nameEn"}},[t("el-input",{model:{value:e.form.nameEn,callback:function(t){e.$set(e.form,"nameEn",t)},expression:"form.nameEn"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"姓氏(中文)",prop:"lastNameCn"}},[t("el-input",{model:{value:e.form.lastNameCn,callback:function(t){e.$set(e.form,"lastNameCn",t)},expression:"form.lastNameCn"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"名(中文)",prop:"firstNameCn"}},[t("el-input",{model:{value:e.form.firstNameCn,callback:function(t){e.$set(e.form,"firstNameCn",t)},expression:"form.firstNameCn"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"名(英文)",prop:"firstNameEn"}},[t("el-input",{model:{value:e.form.firstNameEn,callback:function(t){e.$set(e.form,"firstNameEn",t)},expression:"form.firstNameEn"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"姓氏(英文)",prop:"lastNameEn"}},[t("el-input",{model:{value:e.form.lastNameEn,callback:function(t){e.$set(e.form,"lastNameEn",t)},expression:"form.lastNameEn"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"获代理资格日期",prop:"licenseDate"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date"},model:{value:e.form.licenseDate,callback:function(t){e.$set(e.form,"licenseDate",t)},expression:"form.licenseDate"}})],1)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"执业日期",prop:"licenseExpiry"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date"},model:{value:e.form.licenseExpiry,callback:function(t){e.$set(e.form,"licenseExpiry",t)},expression:"form.licenseExpiry"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"默认本所代理师",prop:"isDefaultAgent"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"是或否"},model:{value:e.form.isDefaultAgent,callback:function(t){e.$set(e.form,"isDefaultAgent",t)},expression:"form.isDefaultAgent"}},[t("el-option",{attrs:{label:"是",value:!0}}),t("el-option",{attrs:{label:"否",value:!1}})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"是否有效",prop:"isValid"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"是或否"},model:{value:e.form.isValid,callback:function(t){e.$set(e.form,"isValid",t)},expression:"form.isValid"}},[t("el-option",{attrs:{label:"是",value:!0}}),t("el-option",{attrs:{label:"否",value:!1}})],1)],1)],1)],1),"编辑代理师"===e.dialogTitle?t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"新增人",prop:"creator"}},[t("el-input",{attrs:{disabled:""},model:{value:e.form.creator,callback:function(t){e.$set(e.form,"creator",t)},expression:"form.creator"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"创建时间",prop:"creationTime"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"年/月/日 时:分:秒",disabled:""},model:{value:e.form.creationTime,callback:function(t){e.$set(e.form,"creationTime",t)},expression:"form.creationTime"}})],1)],1)],1):e._e(),"编辑代理师"===e.dialogTitle?t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"修改人",prop:"modifier"}},[t("el-input",{attrs:{disabled:""},model:{value:e.form.modifier,callback:function(t){e.$set(e.form,"modifier",t)},expression:"form.modifier"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"修改时间",prop:"updateTime"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"年/月/日 时:分:秒",disabled:""},model:{value:e.form.updateTime,callback:function(t){e.$set(e.form,"updateTime",t)},expression:"form.updateTime"}})],1)],1)],1):e._e()],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.showForm=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.handleSave}},[e._v("确 定")])],1)],1)],1)},r=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"part-table-title"},[t("span",[e._v("代理师列表")])])}],s=a("365c"),i={name:"AgentConfig",data(){return{loading:!1,showForm:!1,dialogTitle:"新增代理师",showMoreFields:!1,searchForm:{name:"",licenseNumber:"",agency:""},tableData:[],form:{sort:1,nameCn:"",nameEn:"",licenseNumber:"",qualificationNumber:"",phone:"",email:"",agency:"",gender:"",licenseExpiry:"",specialty:"",lastNameCn:"",firstNameCn:"",lastNameEn:"",firstNameEn:"",licenseDate:"",isDefaultAgent:"",isValid:!0,creditRating:"",creator:"",creationTime:"",modifier:"",updateTime:""},rules:{sort:[{required:!0,message:"请输入排序值",trigger:"blur"}],nameCn:[{required:!0,message:"请输入姓名",trigger:"blur"}],licenseNumber:[{required:!0,message:"请输入执业证号",trigger:"blur"}],agency:[{required:!0,message:"请输入所属机构",trigger:"blur"}]},currentPage:1,pageSize:10,total:0}},created(){this.fetchData()},methods:{async fetchData(){this.loading=!0;try{const e={page:this.currentPage,pageSize:this.pageSize,name:this.searchForm.name,licenseNumber:this.searchForm.licenseNumber,agency:this.searchForm.agency},t=await s["a"].agent.getList(e);200===t.data.code?(this.tableData=t.data.data.list||[],this.total=t.data.data.total||0):this.$message.error(t.data.message||"获取代理师列表失败")}catch(e){console.error("获取代理师列表失败:",e),this.$message.error("获取代理师列表失败")}finally{this.loading=!1}},handleSearch(){this.currentPage=1,this.fetchData()},handleReset(){this.searchForm={name:"",licenseNumber:"",agency:""},this.fetchData()},handleExport(){this.$message.success("导出成功")},async handleEdit(e){this.dialogTitle="编辑代理师";try{const t=await s["a"].agent.getDetail(e.id);200===t.data.code?(this.form={...t.data.data},this.showForm=!0):this.$message.error(t.data.message||"获取代理师详情失败")}catch(t){console.error("获取代理师详情失败:",t),this.$message.error("获取代理师详情失败")}},async handleView(e){this.dialogTitle="查看代理师";try{const t=await s["a"].agent.getDetail(e.id);200===t.data.code?(this.form={...t.data.data},this.showForm=!0):this.$message.error(t.data.message||"获取代理师详情失败")}catch(t){console.error("获取代理师详情失败:",t),this.$message.error("获取代理师详情失败")}},async handleSave(){this.$refs.form.validate(async e=>{if(e)try{let e;e=this.form.id?await s["a"].agent.update(this.form.id,this.form):await s["a"].agent.create(this.form),200===e.data.code?(this.$message.success(e.data.message||"保存成功"),this.fetchData(),this.showForm=!1):this.$message.error(e.data.message||"保存失败")}catch(t){console.error("保存代理师失败:",t),this.$message.error("保存代理师失败")}else this.$message.error("请完善表单信息")})},handleAdd(){this.dialogTitle="新增代理师",this.form={sort:1,nameCn:"",nameEn:"",licenseNumber:"",qualificationNumber:"",phone:"",email:"",agency:"",gender:"男",licenseExpiry:"",specialty:"",lastNameCn:"",firstNameCn:"",lastNameEn:"",firstNameEn:"",licenseDate:"",isDefaultAgent:!1,isValid:!0,creditRating:"",creator:"",creationTime:"",modifier:"",updateTime:""},this.showForm=!0,this.showMoreFields=!1},handleCancel(){this.showForm=!1},toggleMoreFields(){this.showMoreFields=!this.showMoreFields},handleSizeChange(e){this.pageSize=e,this.fetchData()},handleCurrentChange(e){this.currentPage=e,this.fetchData()}}},o=i,n=(a("e846"),a("2877")),c=Object(n["a"])(o,l,r,!1,null,null,null);t["default"]=c.exports}}]);