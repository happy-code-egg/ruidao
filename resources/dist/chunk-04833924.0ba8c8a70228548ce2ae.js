(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04833924"],{"0560":function(e,t,r){},1705:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"opportunity-edit-container"},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("编辑商机")]),t("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:e.goBack}},[e._v("返回")])],1),t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"商机名称",prop:"opportunityName"}},[t("el-input",{attrs:{placeholder:"请输入商机名称"},model:{value:e.form.opportunityName,callback:function(t){e.$set(e.form,"opportunityName",t)},expression:"form.opportunityName"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"客户名称",prop:"customerName"}},[t("el-input",{attrs:{placeholder:"请输入客户名称",disabled:""},model:{value:e.form.customerName,callback:function(t){e.$set(e.form,"customerName",t)},expression:"form.customerName"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"商机类型",prop:"opportunityType"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择商机类型"},model:{value:e.form.opportunityType,callback:function(t){e.$set(e.form,"opportunityType",t)},expression:"form.opportunityType"}},[t("el-option",{attrs:{label:"专利申请",value:"专利申请"}}),t("el-option",{attrs:{label:"商标注册",value:"商标注册"}}),t("el-option",{attrs:{label:"版权登记",value:"版权登记"}}),t("el-option",{attrs:{label:"法律服务",value:"法律服务"}}),t("el-option",{attrs:{label:"其他服务",value:"其他服务"}})],1)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"商机状态",prop:"status"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择商机状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[t("el-option",{attrs:{label:"初期沟通",value:"初期沟通"}}),t("el-option",{attrs:{label:"需求确认",value:"需求确认"}}),t("el-option",{attrs:{label:"方案制定",value:"方案制定"}}),t("el-option",{attrs:{label:"商务谈判",value:"商务谈判"}}),t("el-option",{attrs:{label:"合同签署",value:"合同签署"}}),t("el-option",{attrs:{label:"已成交",value:"已成交"}}),t("el-option",{attrs:{label:"已失败",value:"已失败"}})],1)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"预计金额",prop:"expectedAmount"}},[t("el-input",{attrs:{placeholder:"请输入预计金额"},model:{value:e.form.expectedAmount,callback:function(t){e.$set(e.form,"expectedAmount",t)},expression:"form.expectedAmount"}},[t("template",{slot:"append"},[e._v("元")])],2)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"预计签约时间",prop:"expectedSigningDate"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择预计签约时间"},model:{value:e.form.expectedSigningDate,callback:function(t){e.$set(e.form,"expectedSigningDate",t)},expression:"form.expectedSigningDate"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"负责人",prop:"principal"}},[t("el-input",{attrs:{placeholder:"请输入负责人"},model:{value:e.form.principal,callback:function(t){e.$set(e.form,"principal",t)},expression:"form.principal"}})],1)],1)],1),t("el-form-item",{attrs:{label:"备注",prop:"remark"}},[t("el-input",{attrs:{type:"textarea",placeholder:"请输入备注",rows:4},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),t("el-form-item",[t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submitForm}},[e._v("保存")]),t("el-button",{on:{click:e.resetForm}},[e._v("重置")]),t("el-button",{on:{click:e.goBack}},[e._v("取消")])],1)],1)],1)],1)},a=[],l={name:"OpportunityEdit",data(){return{opportunityId:null,form:{opportunityName:"",customerName:"",opportunityType:"",status:"",expectedAmount:"",expectedSigningDate:"",principal:"",remark:""},rules:{opportunityName:[{required:!0,message:"请输入商机名称",trigger:"blur"}],opportunityType:[{required:!0,message:"请选择商机类型",trigger:"change"}],status:[{required:!0,message:"请选择商机状态",trigger:"change"}],expectedAmount:[{required:!0,message:"请输入预计金额",trigger:"blur"}],expectedSigningDate:[{required:!0,message:"请选择预计签约时间",trigger:"change"}],principal:[{required:!0,message:"请输入负责人",trigger:"blur"}]}}},created(){this.opportunityId=this.$route.params.id,this.opportunityId?this.getOpportunityInfo():(this.$message.error("商机ID不能为空"),this.goBack())},methods:{getOpportunityInfo(){const e={id:this.opportunityId,opportunityName:"发明专利申请代理",customerName:"四川大学",opportunityType:"专利申请",status:"方案制定",expectedAmount:"25000",expectedSigningDate:"2024-06-30",principal:"李明",followUpCount:3,lastFollowUpDate:"2024-05-25",createDate:"2024-05-10",remark:"客户对方案基本满意，需要进一步完善细节"};this.form={opportunityName:e.opportunityName,customerName:e.customerName,opportunityType:e.opportunityType,status:e.status,expectedAmount:e.expectedAmount,expectedSigningDate:e.expectedSigningDate,principal:e.principal,remark:e.remark}},submitForm(){this.$refs.form.validate(e=>{if(!e)return this.$message.error("请完善表单信息"),!1;{const e={id:this.opportunityId,...this.form};console.log("提交的商机数据:",e),this.$message.success("商机信息更新成功"),this.goBack()}})},resetForm(){this.$refs.form.resetFields(),this.getOpportunityInfo()},goBack(){this.$router.go(-1)}}},s=l,i=(r("2a66"),r("2877")),p=Object(i["a"])(s,o,a,!1,null,null,null);t["default"]=p.exports},"2a66":function(e,t,r){"use strict";r("0560")}}]);