(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48cba53c"],{"04df":function(e,t,a){},"1e2d":function(e,t,a){"use strict";a("04df")},3741:function(e,t,a){},c4b3:function(e,t,a){"use strict";var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"column-filter"},[t("el-button",{attrs:{type:e.buttonType,size:e.buttonSize,icon:e.buttonIcon},on:{click:e.showDialog}},[e._v(" "+e._s(e.buttonText)+" ")]),t("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("div",{staticClass:"column-filter-container"},[t("el-checkbox",{on:{change:e.handleSelectAllChange},model:{value:e.selectAllColumns,callback:function(t){e.selectAllColumns=t},expression:"selectAllColumns"}},[e._v("全选")]),t("el-divider"),t("el-checkbox-group",{on:{change:e.handleColumnChange},model:{value:e.selectedColumns,callback:function(t){e.selectedColumns=t},expression:"selectedColumns"}},[t("el-row",{attrs:{gutter:10}},e._l(e.availableColumns,(function(a){return t("el-col",{key:a.prop,attrs:{span:8}},[t("el-checkbox",{attrs:{label:a.prop}},[e._v(e._s(a.label))])],1)})),1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.resetColumns}},[e._v("重置")]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.saveColumnSettings}},[e._v("确 定")])],1)])],1)},s=[],r=(a("e9f5"),a("7d54"),a("ab43"),{name:"ColumnFilter",props:{storageKey:{type:String,required:!0},columns:{type:Array,required:!0},defaultSelected:{type:Array,required:!0},buttonType:{type:String,default:"primary"},buttonSize:{type:String,default:"small"},buttonIcon:{type:String,default:"el-icon-s-operation"},buttonText:{type:String,default:"列筛选"},dialogTitle:{type:String,default:"列筛选设置"}},data(){return{dialogVisible:!1,selectedColumns:[...this.defaultSelected],selectAllColumns:!1,visibleColumns:{}}},computed:{availableColumns(){return this.columns}},created(){this.loadColumnSettings()},methods:{showDialog(){this.dialogVisible=!0},handleSelectAllChange(e){this.selectedColumns=e?this.availableColumns.map(e=>e.prop):[],this.updateVisibleColumns()},handleColumnChange(){this.selectAllColumns=this.selectedColumns.length===this.availableColumns.length,this.updateVisibleColumns()},updateVisibleColumns(){const e={};this.availableColumns.forEach(t=>{e[t.prop]=!1}),this.selectedColumns.forEach(t=>{e[t]=!0}),this.visibleColumns=e,this.$emit("update:visible-columns",{...e})},saveColumnSettings(){try{localStorage.setItem(this.storageKey+"Columns",JSON.stringify(this.selectedColumns)),localStorage.setItem(this.storageKey+"VisibleColumns",JSON.stringify(this.visibleColumns)),this.dialogVisible=!1,this.$message.success("列设置已保存"),this.$emit("update:visible-columns",{...this.visibleColumns})}catch(e){console.error("保存列设置失败",e),this.$message.error("保存列设置失败")}},loadColumnSettings(){try{const e=localStorage.getItem(this.storageKey+"Columns"),t=localStorage.getItem(this.storageKey+"VisibleColumns");e?(this.selectedColumns=JSON.parse(e),this.selectAllColumns=this.selectedColumns.length===this.availableColumns.length):(this.selectedColumns=[...this.defaultSelected],this.selectAllColumns=this.selectedColumns.length===this.availableColumns.length),t?this.visibleColumns=JSON.parse(t):this.updateVisibleColumns(),this.$emit("update:visible-columns",{...this.visibleColumns})}catch(e){console.error("加载列设置失败",e),this.resetColumns()}},resetColumns(){this.selectedColumns=[...this.defaultSelected],this.selectAllColumns=this.selectedColumns.length===this.availableColumns.length,this.updateVisibleColumns()}}}),o=r,i=(a("ec91"),a("2877")),c=Object(i["a"])(o,l,s,!1,null,null,null);t["a"]=c.exports},dd33:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"department-case-page"},[t("div",{staticClass:"body-part-search"},[t("el-form",{ref:"searchForm",attrs:{model:e.searchForm,"label-width":"120px"}},[t("el-row",[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"项目类型"}},[t("el-radio-group",{attrs:{max:1},on:{change:e.handleCaseTypeChange},model:{value:e.searchForm.caseTypes,callback:function(t){e.$set(e.searchForm,"caseTypes",t)},expression:"searchForm.caseTypes"}},[t("el-radio",{attrs:{label:"专利"}},[e._v("专利")]),t("el-radio",{attrs:{label:"商标"}},[e._v("商标")]),t("el-radio",{attrs:{label:"版权"}},[e._v("版权")])],1)],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"申请类型"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",multiple:"",filterable:"",placeholder:"请选择"},model:{value:e.searchForm.applicationTypes,callback:function(t){e.$set(e.searchForm,"applicationTypes",t)},expression:"searchForm.applicationTypes"}},[t("el-option",{attrs:{label:"发明",value:"发明"}}),t("el-option",{attrs:{label:"实用新型",value:"实用新型"}}),t("el-option",{attrs:{label:"外观设计",value:"外观设计"}}),t("el-option",{attrs:{label:"注册",value:"注册"}}),t("el-option",{attrs:{label:"作品登记",value:"作品登记"}})],1)],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"项目状态"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",multiple:"",filterable:"",placeholder:"请选择"},model:{value:e.searchForm.caseStatuses,callback:function(t){e.$set(e.searchForm,"caseStatuses",t)},expression:"searchForm.caseStatuses"}},[t("el-option",{attrs:{label:"准备中",value:"准备中"}}),t("el-option",{attrs:{label:"已申请",value:"已申请"}}),t("el-option",{attrs:{label:"已受理",value:"已受理"}}),t("el-option",{attrs:{label:"实审中",value:"实审中"}}),t("el-option",{attrs:{label:"已授权",value:"已授权"}}),t("el-option",{attrs:{label:"已驳回",value:"已驳回"}})],1)],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"客户名称"}},[t("el-input",{attrs:{size:"small",placeholder:"请输入"},model:{value:e.searchForm.customerName,callback:function(t){e.$set(e.searchForm,"customerName",t)},expression:"searchForm.customerName"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"申请人"}},[t("el-input",{attrs:{size:"small",placeholder:"请输入"},model:{value:e.searchForm.applicant,callback:function(t){e.$set(e.searchForm,"applicant",t)},expression:"searchForm.applicant"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"部门"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",multiple:"",filterable:"",placeholder:"请选择"},model:{value:e.searchForm.departments,callback:function(t){e.$set(e.searchForm,"departments",t)},expression:"searchForm.departments"}},[t("el-option",{attrs:{label:"知识产权部",value:"知识产权部"}}),t("el-option",{attrs:{label:"法律事务部",value:"法律事务部"}}),t("el-option",{attrs:{label:"咨询部",value:"咨询部"}}),t("el-option",{attrs:{label:"项目部",value:"项目部"}})],1)],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"处理事项类型"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"请选择"},model:{value:e.searchForm.processItemType,callback:function(t){e.$set(e.searchForm,"processItemType",t)},expression:"searchForm.processItemType"}},[t("el-option",{attrs:{label:"全部",value:""}}),t("el-option",{attrs:{label:"官方文件递交",value:"官方文件递交"}}),t("el-option",{attrs:{label:"撰写答复",value:"撰写答复"}}),t("el-option",{attrs:{label:"实质审查",value:"实质审查"}}),t("el-option",{attrs:{label:"材料准备",value:"材料准备"}})],1)],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"处理事项"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",multiple:"",filterable:"",placeholder:"请选择"},model:{value:e.searchForm.processItems,callback:function(t){e.$set(e.searchForm,"processItems",t)},expression:"searchForm.processItems"}},[t("el-option",{attrs:{label:"实质审查",value:"实质审查"}}),t("el-option",{attrs:{label:"形式审查",value:"形式审查"}}),t("el-option",{attrs:{label:"答复审查意见",value:"答复审查意见"}}),t("el-option",{attrs:{label:"缴纳官费",value:"缴纳官费"}})],1)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"处理状态"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",multiple:"",filterable:"",placeholder:"请选择"},model:{value:e.searchForm.processStatuses,callback:function(t){e.$set(e.searchForm,"processStatuses",t)},expression:"searchForm.processStatuses"}},[t("el-option",{attrs:{label:"待处理",value:"待处理"}}),t("el-option",{attrs:{label:"处理中",value:"处理中"}}),t("el-option",{attrs:{label:"已完成",value:"已完成"}})],1)],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"业务类型"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"请选择"},model:{value:e.searchForm.businessType,callback:function(t){e.$set(e.searchForm,"businessType",t)},expression:"searchForm.businessType"}},[t("el-option",{attrs:{label:"全部",value:""}}),t("el-option",{attrs:{label:"申请",value:"申请"}}),t("el-option",{attrs:{label:"复审",value:"复审"}}),t("el-option",{attrs:{label:"无效",value:"无效"}}),t("el-option",{attrs:{label:"其他",value:"其他"}})],1)],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"项目流向"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"请选择"},model:{value:e.searchForm.caseFlow,callback:function(t){e.$set(e.searchForm,"caseFlow",t)},expression:"searchForm.caseFlow"}},[t("el-option",{attrs:{label:"申请阶段",value:"申请阶段"}}),t("el-option",{attrs:{label:"审查阶段",value:"审查阶段"}}),t("el-option",{attrs:{label:"授权阶段",value:"授权阶段"}}),t("el-option",{attrs:{label:"复审阶段",value:"复审阶段"}})],1)],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"申请国家（地区）"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.searchForm.applicationCountry,callback:function(t){e.$set(e.searchForm,"applicationCountry",t)},expression:"searchForm.applicationCountry"}},[t("el-option",{attrs:{label:"全部",value:""}}),t("el-option",{attrs:{label:"中国",value:"中国"}}),t("el-option",{attrs:{label:"美国",value:"美国"}}),t("el-option",{attrs:{label:"日本",value:"日本"}}),t("el-option",{attrs:{label:"欧盟",value:"欧盟"}})],1)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"官方期限"}},[t("el-col",{attrs:{span:9}},[t("el-date-picker",{attrs:{type:"date",placeholder:"年/月/日","value-format":"yyyy-MM-dd",size:"small"},model:{value:e.searchForm.officialDeadlineStart,callback:function(t){e.$set(e.searchForm,"officialDeadlineStart",t)},expression:"searchForm.officialDeadlineStart"}})],1),t("el-col",{staticStyle:{"text-align":"center"},attrs:{span:2}},[e._v("到")]),t("el-col",{attrs:{span:9}},[t("el-date-picker",{attrs:{type:"date",placeholder:"年/月/日","value-format":"yyyy-MM-dd",size:"small"},model:{value:e.searchForm.officialDeadlineEnd,callback:function(t){e.$set(e.searchForm,"officialDeadlineEnd",t)},expression:"searchForm.officialDeadlineEnd"}})],1),t("el-col",{staticStyle:{"text-align":"center"},attrs:{span:4}},[t("el-checkbox",{model:{value:e.searchForm.officialDeadlineEmpty,callback:function(t){e.$set(e.searchForm,"officialDeadlineEmpty",t)},expression:"searchForm.officialDeadlineEmpty"}},[e._v("空")])],1)],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"内部期限"}},[t("el-col",{attrs:{span:9}},[t("el-date-picker",{attrs:{type:"date",placeholder:"年/月/日","value-format":"yyyy-MM-dd",size:"small"},model:{value:e.searchForm.internalDeadlineStart,callback:function(t){e.$set(e.searchForm,"internalDeadlineStart",t)},expression:"searchForm.internalDeadlineStart"}})],1),t("el-col",{staticStyle:{"text-align":"center"},attrs:{span:2}},[e._v("到")]),t("el-col",{attrs:{span:9}},[t("el-date-picker",{attrs:{type:"date",placeholder:"年/月/日","value-format":"yyyy-MM-dd",size:"small"},model:{value:e.searchForm.internalDeadlineEnd,callback:function(t){e.$set(e.searchForm,"internalDeadlineEnd",t)},expression:"searchForm.internalDeadlineEnd"}})],1),t("el-col",{staticStyle:{"text-align":"center"},attrs:{span:4}},[t("el-checkbox",{model:{value:e.searchForm.internalDeadlineEmpty,callback:function(t){e.$set(e.searchForm,"internalDeadlineEmpty",t)},expression:"searchForm.internalDeadlineEmpty"}},[e._v("空")])],1)],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"客户期限"}},[t("el-col",{attrs:{span:9}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"年/月/日","value-format":"yyyy-MM-dd"},model:{value:e.searchForm.customerDeadlineStart,callback:function(t){e.$set(e.searchForm,"customerDeadlineStart",t)},expression:"searchForm.customerDeadlineStart"}})],1),t("el-col",{staticStyle:{"text-align":"center"},attrs:{span:2}},[e._v("到")]),t("el-col",{attrs:{span:9}},[t("el-date-picker",{attrs:{type:"date",placeholder:"年/月/日","value-format":"yyyy-MM-dd",size:"small"},model:{value:e.searchForm.customerDeadlineEnd,callback:function(t){e.$set(e.searchForm,"customerDeadlineEnd",t)},expression:"searchForm.customerDeadlineEnd"}})],1),t("el-col",{staticStyle:{"text-align":"center"},attrs:{span:4}},[t("el-checkbox",{model:{value:e.searchForm.customerDeadlineEmpty,callback:function(t){e.$set(e.searchForm,"customerDeadlineEmpty",t)},expression:"searchForm.customerDeadlineEmpty"}},[e._v("空")])],1)],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"配案日"}},[t("el-col",{attrs:{span:9}},[t("el-date-picker",{attrs:{type:"date",placeholder:"年/月/日","value-format":"yyyy-MM-dd",size:"small"},model:{value:e.searchForm.assignDateStart,callback:function(t){e.$set(e.searchForm,"assignDateStart",t)},expression:"searchForm.assignDateStart"}})],1),t("el-col",{staticStyle:{"text-align":"center"},attrs:{span:2}},[e._v("到")]),t("el-col",{attrs:{span:9}},[t("el-date-picker",{attrs:{type:"date",placeholder:"年/月/日","value-format":"yyyy-MM-dd",size:"small"},model:{value:e.searchForm.assignDateEnd,callback:function(t){e.$set(e.searchForm,"assignDateEnd",t)},expression:"searchForm.assignDateEnd"}})],1),t("el-col",{staticStyle:{"text-align":"center"},attrs:{span:4}},[t("el-checkbox",{model:{value:e.searchForm.assignDateEmpty,callback:function(t){e.$set(e.searchForm,"assignDateEmpty",t)},expression:"searchForm.assignDateEmpty"}},[e._v("空")])],1)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"一次提交"}},[t("el-col",{attrs:{span:9}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"年/月/日","value-format":"yyyy-MM-dd"},model:{value:e.searchForm.firstSubmitStart,callback:function(t){e.$set(e.searchForm,"firstSubmitStart",t)},expression:"searchForm.firstSubmitStart"}})],1),t("el-col",{staticStyle:{"text-align":"center"},attrs:{span:2}},[e._v("到")]),t("el-col",{attrs:{span:9}},[t("el-date-picker",{attrs:{type:"date",placeholder:"年/月/日","value-format":"yyyy-MM-dd",size:"small"},model:{value:e.searchForm.firstSubmitEnd,callback:function(t){e.$set(e.searchForm,"firstSubmitEnd",t)},expression:"searchForm.firstSubmitEnd"}})],1),t("el-col",{staticStyle:{"text-align":"center"},attrs:{span:4}},[t("el-checkbox",{model:{value:e.searchForm.firstSubmitEmpty,callback:function(t){e.$set(e.searchForm,"firstSubmitEmpty",t)},expression:"searchForm.firstSubmitEmpty"}},[e._v("空")])],1)],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"二次提交"}},[t("el-col",{attrs:{span:9}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"年/月/日","value-format":"yyyy-MM-dd"},model:{value:e.searchForm.secondSubmitStart,callback:function(t){e.$set(e.searchForm,"secondSubmitStart",t)},expression:"searchForm.secondSubmitStart"}})],1),t("el-col",{staticStyle:{"text-align":"center"},attrs:{span:2}},[e._v("到")]),t("el-col",{attrs:{span:9}},[t("el-date-picker",{attrs:{type:"date",placeholder:"年/月/日","value-format":"yyyy-MM-dd",size:"small"},model:{value:e.searchForm.secondSubmitEnd,callback:function(t){e.$set(e.searchForm,"secondSubmitEnd",t)},expression:"searchForm.secondSubmitEnd"}})],1),t("el-col",{staticStyle:{"text-align":"center"},attrs:{span:4}},[t("el-checkbox",{model:{value:e.searchForm.secondSubmitEmpty,callback:function(t){e.$set(e.searchForm,"secondSubmitEmpty",t)},expression:"searchForm.secondSubmitEmpty"}},[e._v("空")])],1)],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"完成日"}},[t("el-col",{attrs:{span:9}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"年/月/日","value-format":"yyyy-MM-dd"},model:{value:e.searchForm.completionDateStart,callback:function(t){e.$set(e.searchForm,"completionDateStart",t)},expression:"searchForm.completionDateStart"}})],1),t("el-col",{staticStyle:{"text-align":"center"},attrs:{span:2}},[e._v("到")]),t("el-col",{attrs:{span:9}},[t("el-date-picker",{attrs:{type:"date",placeholder:"年/月/日","value-format":"yyyy-MM-dd",size:"small"},model:{value:e.searchForm.completionDateEnd,callback:function(t){e.$set(e.searchForm,"completionDateEnd",t)},expression:"searchForm.completionDateEnd"}})],1),t("el-col",{staticStyle:{"text-align":"center"},attrs:{span:4}},[t("el-checkbox",{model:{value:e.searchForm.completionDateEmpty,callback:function(t){e.$set(e.searchForm,"completionDateEmpty",t)},expression:"searchForm.completionDateEmpty"}},[e._v("空")])],1)],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"预计完成日"}},[t("el-col",{attrs:{span:9}},[t("el-date-picker",{attrs:{type:"date",placeholder:"年/月/日","value-format":"yyyy-MM-dd",size:"small"},model:{value:e.searchForm.expectedCompletionStart,callback:function(t){e.$set(e.searchForm,"expectedCompletionStart",t)},expression:"searchForm.expectedCompletionStart"}})],1),t("el-col",{staticStyle:{"text-align":"center"},attrs:{span:2}},[e._v("到")]),t("el-col",{attrs:{span:9}},[t("el-date-picker",{attrs:{type:"date",placeholder:"年/月/日","value-format":"yyyy-MM-dd",size:"small"},model:{value:e.searchForm.expectedCompletionEnd,callback:function(t){e.$set(e.searchForm,"expectedCompletionEnd",t)},expression:"searchForm.expectedCompletionEnd"}})],1),t("el-col",{staticStyle:{"text-align":"center"},attrs:{span:4}},[t("el-checkbox",{model:{value:e.searchForm.expectedCompletionEmpty,callback:function(t){e.$set(e.searchForm,"expectedCompletionEmpty",t)},expression:"searchForm.expectedCompletionEmpty"}},[e._v("空")])],1)],1)],1)],1)],1),t("div",{staticClass:"part-search-buttons"},[t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleSearch}},[e._v("查询")]),t("el-button",{attrs:{size:"small"},on:{click:e.resetForm}},[e._v("重置")]),t("el-button",{attrs:{size:"small",type:"success"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),t("div",{staticClass:"body-part-content"},[t("div",{staticClass:"staff-statistics"},[t("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.staffStatistics,border:""}},[t("el-table-column",{attrs:{prop:"name",label:"人员"}}),t("el-table-column",{attrs:{prop:"completed",label:"已完成",width:"80"}}),t("el-table-column",{attrs:{prop:"newPending",label:"新申请未完成",width:"120"}}),t("el-table-column",{attrs:{prop:"midPending",label:"中间案未完成",width:"120"}}),t("el-table-column",{attrs:{prop:"expectDeadline",label:"预计完成逾期",width:"120"}}),t("el-table-column",{attrs:{prop:"customerOverdue",label:"客户期限逾期",width:"120"}}),t("el-table-column",{attrs:{prop:"internalDeadline",label:"内部期限逾期",width:"120"}}),t("el-table-column",{attrs:{prop:"officialDeadline",label:"官方期限逾期",width:"120"}}),t("el-table-column",{attrs:{prop:"searching",label:"核稿中",width:"80"}})],1)],1),t("div",{staticClass:"part-table-header"},[e._m(0),t("div",{staticClass:"part-table-operations"},[t("div",{staticStyle:{"margin-bottom":"15px",display:"flex","justify-content":"space-between","align-items":"center"}},[t("div",[t("column-filter",{attrs:{"storage-key":"departmentCaseTable",columns:e.availableColumns,"default-selected":e.defaultSelectedColumns},on:{"update:visible-columns":e.updateVisibleColumns}})],1)])])]),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",size:"small"}},[t("el-table-column",{attrs:{type:"selection",width:"80"}}),t("el-table-column",{attrs:{prop:"id",label:"序号",width:"80"}}),e._l(e.currentColumns,(function(e){return[t("el-table-column",{key:e.prop,attrs:{prop:e.prop,label:e.label,width:e.width,"min-width":e.minWidth}})]})),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.handleDetail(a.row)}}},[e._v("查看")]),t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.handleApply(a.row)}}},[e._v("申领")]),t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.handleProcess(a.row)}}},[e._v("处理")])]}}])})],2),t("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])},s=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"part-table-title"},[t("span",[e._v("部门客户项目")])])}],r=(a("14d9"),a("e9f5"),a("7d54"),a("ab43"),a("88a7"),a("271a"),a("5494"),a("c4b3")),o={name:"DepartmentCase",components:{ColumnFilter:r["a"]},data(){return{loading:!1,searchForm:{caseType:"",caseTypes:"专利",applicationTypes:[],caseStatuses:[],customerName:"",applicant:"",departments:[],processItemType:"",processItems:[],processStatuses:[],caseFlow:"",applicationCountry:"",officialDeadlineStart:"",officialDeadlineEnd:"",officialDeadlineEmpty:!1,internalDeadlineStart:"",internalDeadlineEnd:"",internalDeadlineEmpty:!1,customerDeadlineStart:"",customerDeadlineEnd:"",customerDeadlineEmpty:!1,firstSubmitStart:"",firstSubmitEnd:"",firstSubmitEmpty:!1,secondSubmitStart:"",secondSubmitEnd:"",secondSubmitEmpty:!1,completionDateStart:"",completionDateEnd:"",completionDateEmpty:!1,assignDateStart:"",assignDateEnd:"",assignDateEmpty:!1,expectedCompletionStart:"",expectedCompletionEnd:"",expectedCompletionEmpty:!1},tableData:[],staffStatistics:[],currentPage:1,pageSize:10,total:0,columnConfigs:{"专利":[{prop:"ourRefNumber",label:"项目编号",width:120},{prop:"caseName",label:"项目名称"},{prop:"applicationNo",label:"申请号",width:120},{prop:"applicationType",label:"申请类型",width:100},{prop:"customerName",label:"客户名称"},{prop:"technicalManager",label:"技术主导",width:100},{prop:"processItem",label:"处理事项",width:120},{prop:"itemHandler",label:"事项处理人",width:100},{prop:"processStatus",label:"处理状态",width:100},{prop:"officialDocDate",label:"官方发文日",width:120},{prop:"completionDate",label:"完成日",width:120},{prop:"firstSubmit",label:"一次提交",width:100},{prop:"secondSubmit",label:"二次提交",width:100},{prop:"officialDeadline",label:"官方期限",width:120},{prop:"internalDeadline",label:"内部期限",width:120},{prop:"assignDate",label:"配案日",width:120},{prop:"previewDeadline",label:"预计完成日",width:120},{prop:"businessPerson",label:"业务人员",width:100},{prop:"caseCoefficient",label:"案件系数",width:100},{prop:"processCoefficient",label:"处理系数",width:100},{prop:"processItemRemark",label:"处理事项备注"},{prop:"caseRemark",label:"项目备注"}],"商标":[{prop:"ourRefNumber",label:"项目编号",width:120},{prop:"caseName",label:"项目名称"},{prop:"registrationNo",label:"注册号",width:120},{prop:"applicationType",label:"申请类型",width:100},{prop:"customerName",label:"客户名称"},{prop:"technicalManager",label:"技术主导",width:100},{prop:"processItem",label:"处理事项",width:120},{prop:"itemHandler",label:"事项处理人",width:100},{prop:"processStatus",label:"处理状态",width:100},{prop:"receivedDate",label:"收文日期",width:120},{prop:"completionDate",label:"完成日",width:120},{prop:"officialDeadline",label:"官方期限",width:120},{prop:"internalDeadline",label:"内部期限",width:120},{prop:"assignDate",label:"配案日",width:120},{prop:"previewDeadline",label:"预计完成日",width:120},{prop:"businessPerson",label:"业务人员",width:100},{prop:"category",label:"类别",width:100},{prop:"processItemRemark",label:"处理事项备注"},{prop:"caseRemark",label:"项目备注"}],"版权":[{prop:"ourRefNumber",label:"项目编号",width:120},{prop:"caseName",label:"项目名称"},{prop:"registrationNo",label:"登记号",width:120},{prop:"applicationType",label:"申请类型",width:100},{prop:"customerName",label:"客户名称"},{prop:"technicalManager",label:"技术主导",width:100},{prop:"processItem",label:"处理事项",width:120},{prop:"itemHandler",label:"事项处理人",width:100},{prop:"processStatus",label:"处理状态",width:100},{prop:"officialDocDate",label:"官方发文日",width:120},{prop:"completionDate",label:"完成日",width:120},{prop:"officialDeadline",label:"官方期限",width:120},{prop:"internalDeadline",label:"内部期限",width:120},{prop:"assignDate",label:"配案日",width:120},{prop:"previewDeadline",label:"预计完成日",width:120},{prop:"businessPerson",label:"业务人员",width:100},{prop:"processItemRemark",label:"处理事项备注"},{prop:"caseRemark",label:"项目备注"}]}}},created(){this.fetchData()},computed:{currentColumns(){const e=this.searchForm.caseTypes||"专利";return this.columnConfigs[e]||[]},availableColumns(){return this.currentColumns.map(e=>({prop:e.prop,label:e.label}))},defaultSelectedColumns(){return this.currentColumns.map(e=>e.prop)}},methods:{updateVisibleColumns(){},async fetchData(){this.loading=!0;try{const e=await this.$api.personalCase.getDepartment({page:this.currentPage,limit:this.pageSize,case_type:this.searchForm.caseTypes,application_types:this.searchForm.applicationTypes,case_statuses:this.searchForm.caseStatuses,customer_name:this.searchForm.customerName,applicant:this.searchForm.applicant,departments:this.searchForm.departments,process_item_type:this.searchForm.processItemType,process_items:this.searchForm.processItems,process_statuses:this.searchForm.processStatuses,case_flow:this.searchForm.caseFlow,application_country:this.searchForm.applicationCountry,official_deadline_start:this.searchForm.officialDeadlineStart,official_deadline_end:this.searchForm.officialDeadlineEnd,official_deadline_empty:this.searchForm.officialDeadlineEmpty,internal_deadline_start:this.searchForm.internalDeadlineStart,internal_deadline_end:this.searchForm.internalDeadlineEnd,internal_deadline_empty:this.searchForm.internalDeadlineEmpty,customer_deadline_start:this.searchForm.customerDeadlineStart,customer_deadline_end:this.searchForm.customerDeadlineEnd,customer_deadline_empty:this.searchForm.customerDeadlineEmpty,first_submit_start:this.searchForm.firstSubmitStart,first_submit_end:this.searchForm.firstSubmitEnd,first_submit_empty:this.searchForm.firstSubmitEmpty,second_submit_start:this.searchForm.secondSubmitStart,second_submit_end:this.searchForm.secondSubmitEnd,second_submit_empty:this.searchForm.secondSubmitEmpty,assign_date_start:this.searchForm.assignDateStart,assign_date_end:this.searchForm.assignDateEnd,assign_date_empty:this.searchForm.assignDateEmpty,expected_completion_start:this.searchForm.expectedCompletionStart,expected_completion_end:this.searchForm.expectedCompletionEnd,expected_completion_empty:this.searchForm.expectedCompletionEmpty,completion_date_start:this.searchForm.completionDateStart,completion_date_end:this.searchForm.completionDateEnd,completion_date_empty:this.searchForm.completionDateEmpty});e.data.success?(this.tableData=e.data.data.list||[],this.staffStatistics=e.data.data.staff_statistics||[],this.total=e.data.data.total||0):this.$message.error(e.data.message||"获取数据失败")}catch(e){console.error("获取部门项目失败:",e),this.$message.error("获取数据失败，请稍后重试"),this.tableData=[],this.staffStatistics=[],this.total=0}finally{this.loading=!1}},handleSearch(){this.currentPage=1,this.fetchData()},resetForm(){this.$refs.searchForm.resetFields(),Object.keys(this.searchForm).forEach(e=>{(e.includes("Empty")||e.includes("Start")||e.includes("End"))&&(this.searchForm[e]=!e.includes("Empty")&&"")})},async handleExport(){const e=this.$refs.table?this.$refs.table.selection:[];if(0!==e.length)try{await this.$confirm("确定要导出选中的记录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),this.loading=!0;const t={type:"department_cases",search_params:{case_type:this.searchForm.caseType,application_type:this.searchForm.applicationType,case_status:this.searchForm.caseStatus,customer_name:this.searchForm.customerName,applicant:this.searchForm.applicant,department:this.searchForm.department,process_item_type:this.searchForm.processItemType,process_item:this.searchForm.processItem,item_status:this.searchForm.itemStatus,business_type:this.searchForm.businessType,case_flow:this.searchForm.caseFlow,application_country:this.searchForm.applicationCountry,official_deadline_start:this.searchForm.officialDeadlineStart,official_deadline_end:this.searchForm.officialDeadlineEnd,official_deadline_empty:this.searchForm.officialDeadlineEmpty,internal_deadline_start:this.searchForm.internalDeadlineStart,internal_deadline_end:this.searchForm.internalDeadlineEnd,internal_deadline_empty:this.searchForm.internalDeadlineEmpty,customer_deadline_start:this.searchForm.customerDeadlineStart,customer_deadline_end:this.searchForm.customerDeadlineEnd,customer_deadline_empty:this.searchForm.customerDeadlineEmpty},selected_ids:e.map(e=>e.id),visible_columns:this.visibleColumns},a=await this.$api.personalCase.exportData(t);if(a.headers["content-type"]&&a.headers["content-type"].includes("application/json")){const e=new FileReader;return e.onload=()=>{const t=JSON.parse(e.result);this.$message.error(t.message||"导出失败")},void e.readAsText(a.data)}const l=window.URL.createObjectURL(a.data),s=document.createElement("a");s.href=l,s.download=`部门客户项目_${(new Date).toISOString().slice(0,10)}.csv`,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(l),this.$message.success("导出成功")}catch(t){"cancel"!==t?(console.error("导出失败:",t),this.$message.error("导出失败，请稍后重试")):this.$message.info("已取消导出")}finally{this.loading=!1}else this.$message.warning("请先选择要导出的记录")},handleSizeChange(e){this.pageSize=e,this.fetchData()},handleCurrentChange(e){this.currentPage=e,this.fetchData()},handleDetail(e){const t={"专利":"/case/patent/detail/","商标":"/case/trademark/detail/","版权":"/case/copyright/detail/"},a=t[this.searchForm.caseTypes]+e.id;this.$router.push({path:a,query:{refNumber:e.ourRefNumber||e.caseName,mode:"view"}})},handleApply(e){this.$confirm(`确定要申领项目 "${e.caseName}" 吗？`,"申领确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{this.$message.success("项目申领成功"),this.fetchData()}catch(e){console.error("申领失败:",e),this.$message.error("申领失败，请稍后重试")}}).catch(()=>{this.$message.info("已取消申领")})},handleProcess(e){const t={"专利":"/case/patent/detail/","商标":"/case/trademark/detail/","版权":"/case/copyright/detail/"},a=t[this.searchForm.caseTypes]+e.id;this.$router.push({path:a,query:{refNumber:e.ourRefNumber||e.caseName,mode:"process"}})},handleCaseTypeChange(e){this.fetchData()}}},i=o,c=(a("1e2d"),a("2877")),n=Object(c["a"])(i,l,s,!1,null,"6806cdc3",null);t["default"]=n.exports},ec91:function(e,t,a){"use strict";a("3741")}}]);