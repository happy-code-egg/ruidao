(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3fcdbb84"],{3476:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"opportunity-add-container"},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("新增商机")]),t("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:e.goBack}},[e._v("返回")])],1),t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"商机名称",prop:"opportunityName"}},[t("el-input",{attrs:{placeholder:"请输入商机名称"},model:{value:e.form.opportunityName,callback:function(t){e.$set(e.form,"opportunityName",t)},expression:"form.opportunityName"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"客户名称",prop:"customerName"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入客户名称搜索","remote-method":e.remoteCustomerSearch,loading:e.loading},model:{value:e.form.customerId,callback:function(t){e.$set(e.form,"customerId",t)},expression:"form.customerId"}},e._l(e.customerOptions,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"商机类型",prop:"opportunityType"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择商机类型"},model:{value:e.form.opportunityType,callback:function(t){e.$set(e.form,"opportunityType",t)},expression:"form.opportunityType"}},[t("el-option",{attrs:{label:"专利申请",value:"专利申请"}}),t("el-option",{attrs:{label:"商标注册",value:"商标注册"}}),t("el-option",{attrs:{label:"版权登记",value:"版权登记"}}),t("el-option",{attrs:{label:"法律服务",value:"法律服务"}}),t("el-option",{attrs:{label:"其他服务",value:"其他服务"}})],1)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"商机状态",prop:"status"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择商机状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[t("el-option",{attrs:{label:"初期沟通",value:"初期沟通"}}),t("el-option",{attrs:{label:"需求确认",value:"需求确认"}}),t("el-option",{attrs:{label:"方案制定",value:"方案制定"}}),t("el-option",{attrs:{label:"商务谈判",value:"商务谈判"}}),t("el-option",{attrs:{label:"合同签署",value:"合同签署"}}),t("el-option",{attrs:{label:"已成交",value:"已成交"}}),t("el-option",{attrs:{label:"已失败",value:"已失败"}})],1)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"预计金额",prop:"expectedAmount"}},[t("el-input",{attrs:{placeholder:"请输入预计金额"},model:{value:e.form.expectedAmount,callback:function(t){e.$set(e.form,"expectedAmount",t)},expression:"form.expectedAmount"}},[t("template",{slot:"append"},[e._v("元")])],2)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"预计签约时间",prop:"expectedSigningDate"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择预计签约时间"},model:{value:e.form.expectedSigningDate,callback:function(t){e.$set(e.form,"expectedSigningDate",t)},expression:"form.expectedSigningDate"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"负责人",prop:"principal"}},[t("el-input",{attrs:{placeholder:"请输入负责人"},model:{value:e.form.principal,callback:function(t){e.$set(e.form,"principal",t)},expression:"form.principal"}})],1)],1)],1),t("el-form-item",{attrs:{label:"备注",prop:"remark"}},[t("el-input",{attrs:{type:"textarea",placeholder:"请输入备注",rows:4},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),t("el-form-item",[t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submitForm}},[e._v("保存")]),t("el-button",{on:{click:e.resetForm}},[e._v("重置")]),t("el-button",{on:{click:e.goBack}},[e._v("取消")])],1)],1)],1)],1)},o=[],l={name:"OpportunityAdd",data(){return{loading:!1,customerOptions:[],form:{opportunityName:"",customerId:"",opportunityType:"",status:"初期沟通",expectedAmount:"",expectedSigningDate:"",principal:"",remark:""},rules:{opportunityName:[{required:!0,message:"请输入商机名称",trigger:"blur"}],customerId:[{required:!0,message:"请选择客户",trigger:"change"}],opportunityType:[{required:!0,message:"请选择商机类型",trigger:"change"}],status:[{required:!0,message:"请选择商机状态",trigger:"change"}],expectedAmount:[{required:!0,message:"请输入预计金额",trigger:"blur"}],expectedSigningDate:[{required:!0,message:"请选择预计签约时间",trigger:"change"}],principal:[{required:!0,message:"请输入负责人",trigger:"blur"}]}}},created(){this.form.principal="当前登录用户"},methods:{remoteCustomerSearch(e){""!==e?(this.loading=!0,setTimeout(()=>{this.loading=!1,this.customerOptions=[{id:1,name:"四川大学"},{id:2,name:"成都理工大学"},{id:3,name:"电子科技大学"},{id:4,name:"西南交通大学"},{id:5,name:"成都某某科技有限公司"}].filter(t=>t.name.includes(e))},500)):this.customerOptions=[]},submitForm(){this.$refs.form.validate(e=>{if(!e)return this.$message.error("请完善表单信息"),!1;{const e={...this.form};console.log("提交的商机数据:",e),this.$message.success("商机创建成功"),this.goBack()}})},resetForm(){this.$refs.form.resetFields()},goBack(){this.$router.go(-1)}}},s=l,i=(r("d9db"),r("2877")),n=Object(i["a"])(s,a,o,!1,null,null,null);t["default"]=n.exports},"414e":function(e,t,r){},d9db:function(e,t,r){"use strict";r("414e")}}]);